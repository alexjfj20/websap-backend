{"version":3,"file":"js/shared-menu.af7476e2.js","mappings":"gMAAA,O,GAAAA,IAAA,EAE0BC,MAAM,W,GAFhCD,IAAA,EAO2BC,MAAM,S,GAPjCD,IAAA,EAWgBC,MAAM,gB,GAXtBD,IAAA,EAayCC,MAAM,iB,EAb/C,Q,GAgBWA,MAAM,e,GAhBjBD,IAAA,EAiBaC,MAAM,gB,GAjBnBD,IAAA,G,GAAAA,IAAA,G,GA0BaC,MAAM,a,GAEJA,MAAM,c,GAEFA,MAAM,wB,EA9BzB,Q,GAAAD,IAAA,EAgC4BE,IAAI,kDAAkDC,IAAI,wBAAwBF,MAAM,c,GAEjGA,MAAM,gB,GAENA,MAAM,oB,GACNA,MAAM,c,GArCzBD,IAAA,EAsCmBC,MAAM,kB,EAtCzB,uB,GAAAD,IAAA,EA6CoFC,MAAM,Y,GA7C1FD,IAAA,EA8C+BC,MAAM,Y,GA9CrCD,IAAA,EAuD4CC,MAAM,+B,GAEnCA,MAAM,c,GAEFA,MAAM,wB,EA3DzB,Q,GAAAD,IAAA,EA6D4BE,IAAI,kDAAkDC,IAAI,wBAAwBF,MAAM,c,GAEjGA,MAAM,gB,GAENA,MAAM,oB,GACNA,MAAM,c,GAlEzBD,IAAA,EAmEmBC,MAAM,kB,EAnEzB,uB,GAAAD,IAAA,EA0EoFC,MAAM,Y,GA1E1FD,IAAA,EA2E+BC,MAAM,Y,GASxBA,MAAM,gBAAgBG,IAAI,gB,GApFvCJ,IAAA,EAuF6CC,MAAM,c,GAvFnDD,IAAA,EA4FsBC,MAAM,c,GAETA,MAAM,qB,GAINA,MAAM,qB,EAlGzB,Y,GAoGsBA,MAAM,oB,EApG5B,Y,EAAA,Y,GA4GiBA,MAAM,c,GAIJA,MAAM,iB,GAEJA,MAAM,Y,GAGNA,MAAM,Y,GAGNA,MAAM,Y,IAGNA,MAAM,Y,IAKNA,MAAM,6B,IAEJA,MAAM,mB,IACFA,MAAM,kB,IAINA,MAAM,kB,IAINA,MAAM,kB,IAQZA,MAAM,Y,IAKRA,MAAM,iB,IAWTA,MAAM,oB,IAnKtBD,IAAA,EAwKmCC,MAAM,mB,IAE1BA,MAAM,mB,IA1KrBD,IAAA,EA2KqEC,MAAM,kB,GA3K3E,Q,IAAAD,IAAA,EAqL4HC,MAAM,kB,GArLlI,Q,IAAAD,IAAA,EA6LyEC,MAAM,kB,IA7L/ED,IAAA,EAkMsEC,MAAM,kB,IAE3DA,MAAM,kB,IApMvBD,IAAA,EAyMiFC,MAAM,kB,IAEtEA,MAAM,kB,8CA1MrBI,EAAAA,EAAAA,IAgOM,OAhODJ,MAAM,wBAAyBK,GAAIC,GAAAC,e,CAC3BD,GAAAE,YAAS,WAApBJ,EAAAA,EAAAA,IAGM,MAHNK,EAGMC,EAAA,MAAAA,EAAA,MAFJC,EAAAA,EAAAA,IAA2B,OAAtBX,MAAM,WAAS,UACpBW,EAAAA,EAAAA,IAAuB,SAApB,oBAAgB,OAGLL,GAAAM,QAAK,WAArBR,EAAAA,EAAAA,IAEM,MAFNS,EAEM,EADJF,EAAAA,EAAAA,IAAkB,UAAAG,EAAAA,EAAAA,IAAZR,GAAAM,OAAK,mBAGbR,EAAAA,EAAAA,IAqNM,MArNNW,EAqNM,CAnNOT,GAAAU,UAAUC,eAAY,WAAjCb,EAAAA,EAAAA,IAQM,MARNc,EAQM,CAPOZ,GAAAU,SAASC,aAAaE,MAAQb,GAAAc,aAAad,GAAAU,SAASC,aAAaE,QAAI,WAAhFf,EAAAA,EAAAA,IAAsK,OAd9KL,IAAA,EAc4FE,IAAKK,GAAAe,eAAef,GAAAU,SAASC,aAAaE,MAAOjB,IAAI,OAAOF,MAAM,iB,OAd9JsB,KAAAC,EAAAA,EAAAA,IAAA,QAeQZ,EAAAA,EAAAA,IAAyC,WAAAG,EAAAA,EAAAA,IAAlCR,GAAAU,SAASC,aAAaO,MAAI,IACjCb,EAAAA,EAAAA,IAAkE,IAAlEc,GAAkEX,EAAAA,EAAAA,IAAxCR,GAAAU,SAASC,aAAaS,aAAW,GAC3BpB,GAAAU,SAASC,aAAaU,SAAWrB,GAAAU,SAASC,aAAaW,UAAO,WAA9FxB,EAAAA,EAAAA,IAGM,MAHNyB,EAGM,CAFKvB,GAAAU,SAASC,aAAaU,UAAO,WAAtCvB,EAAAA,EAAAA,IAA0G,IAlBpH0B,EAAA,gBAkBkDnB,EAAAA,EAAAA,IAA0B,cAAlB,aAAS,KAlBnEoB,EAAAA,EAAAA,IAkB4E,KAACjB,EAAAA,EAAAA,IAAGR,GAAAU,SAASC,aAAaU,SAAO,OAlB7GJ,EAAAA,EAAAA,IAAA,OAmBmBjB,GAAAU,SAASC,aAAaW,UAAO,WAAtCxB,EAAAA,EAAAA,IAA2G,IAnBrH4B,EAAA,gBAmBkDrB,EAAAA,EAAAA,IAA2B,cAAnB,cAAU,KAnBpEoB,EAAAA,EAAAA,IAmB6E,KAACjB,EAAAA,EAAAA,IAAGR,GAAAU,SAASC,aAAaW,SAAO,OAnB9GL,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,QAwBMZ,EAAAA,EAAAA,IAuMM,aArMJA,EAAAA,EAAAA,IA0BM,MA1BNsB,EA0BM,gBAzBJtB,EAAAA,EAAAA,IAAqB,UAAjB,gBAAY,KAChBA,EAAAA,EAAAA,IAuBM,MAvBNuB,EAuBM,gBAtBJ9B,EAAAA,EAAAA,IAqBM+B,EAAAA,GAAA,MAlDlBC,EAAAA,EAAAA,IA6ByC9B,GAAA+B,cA7BzC,CA6ByBC,EAAMC,M,WAAnBnC,EAAAA,EAAAA,IAqBM,OArBsCL,IAAKwC,EAAOvC,MAAM,a,EAC5DW,EAAAA,EAAAA,IAGM,MAHN6B,EAGM,CAFOF,EAAKG,OAASnC,GAAAc,aAAakB,EAAKG,SAAK,WAAhDrC,EAAAA,EAAAA,IAAkI,OA/BlJL,IAAA,EA+BoEE,IAAKK,GAAAe,eAAeiB,EAAKG,OAAQvC,IAAI,sBAAsBF,MAAM,c,OA/BrI0C,MAAA,WAgCgBtC,EAAAA,EAAAA,IAAiH,MAAjHuC,OAEFhC,EAAAA,EAAAA,IAeM,MAfNiC,EAeM,EAdJjC,EAAAA,EAAAA,IAAwB,WAAAG,EAAAA,EAAAA,IAAjBwB,EAAKd,MAAI,IAChBb,EAAAA,EAAAA,IAAsD,IAAtDkC,GAAsD/B,EAAAA,EAAAA,IAAvBwB,EAAKZ,aAAW,IAC/Cf,EAAAA,EAAAA,IAAwD,IAAxDmC,EAAsB,KAAChC,EAAAA,EAAAA,IAAGR,GAAAyC,YAAYT,EAAKU,QAAK,GAChBV,EAAKW,gBAAa,WAAlD7C,EAAAA,EAAAA,IAAwE,IAAxE8C,EAAoD,sBAtCpE3B,EAAAA,EAAAA,IAAA,QAuCgBZ,EAAAA,EAAAA,IASS,UARNwC,QAAKC,GAAE9C,GAAA+C,UAAUf,GAClBtC,OAzClBsD,EAAAA,EAAAA,IAAA,CAyCwB,kBAAiB,iBAEIhB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,KAD5EC,UAAWlB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,G,EAGjDjB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,IAAJ,WAA3DnD,EAAAA,EAAAA,IAA2F,OAA3FqD,EAAmF,QAAC,WACpFrD,EAAAA,EAAAA,IAAuC,OAAvCsD,EAA8B,QA9ChD3B,EAAAA,EAAAA,IA8CyD,KACvCjB,EAAAA,EAAAA,KAAIwB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,EAAI,gBAAkB,oBAA1B,OA/CpEI,U,UAuDmBrD,GAAAsD,aAAaC,OAAS,IAAH,WAA9BzD,EAAAA,EAAAA,IA0BM,MA1BN0D,EA0BM,gBAzBJnD,EAAAA,EAAAA,IAA0B,UAAtB,qBAAiB,KACrBA,EAAAA,EAAAA,IAuBM,MAvBNoD,EAuBM,gBAtBJ3D,EAAAA,EAAAA,IAqBM+B,EAAAA,GAAA,MA/ElBC,EAAAA,EAAAA,IA0DyC9B,GAAAsD,cA1DzC,CA0DyBtB,EAAMC,M,WAAnBnC,EAAAA,EAAAA,IAqBM,OArBsCL,IAAKwC,EAAOvC,MAAM,0B,EAC5DW,EAAAA,EAAAA,IAGM,MAHNqD,EAGM,CAFO1B,EAAKG,OAASnC,GAAAc,aAAakB,EAAKG,SAAK,WAAhDrC,EAAAA,EAAAA,IAAkI,OA5DlJL,IAAA,EA4DoEE,IAAKK,GAAAe,eAAeiB,EAAKG,OAAQvC,IAAI,sBAAsBF,MAAM,c,OA5DrIiE,MAAA,WA6DgB7D,EAAAA,EAAAA,IAAiH,MAAjH8D,OAEFvD,EAAAA,EAAAA,IAeM,MAfNwD,EAeM,EAdJxD,EAAAA,EAAAA,IAAwB,WAAAG,EAAAA,EAAAA,IAAjBwB,EAAKd,MAAI,IAChBb,EAAAA,EAAAA,IAAsD,IAAtDyD,GAAsDtD,EAAAA,EAAAA,IAAvBwB,EAAKZ,aAAW,IAC/Cf,EAAAA,EAAAA,IAAwD,IAAxD0D,EAAsB,KAACvD,EAAAA,EAAAA,IAAGR,GAAAyC,YAAYT,EAAKU,QAAK,GAChBV,EAAKW,gBAAa,WAAlD7C,EAAAA,EAAAA,IAAwE,IAAxEkE,EAAoD,sBAnEpE/C,EAAAA,EAAAA,IAAA,QAoEgBZ,EAAAA,EAAAA,IASS,UARNwC,QAAKC,GAAE9C,GAAA+C,UAAUf,GAClBtC,OAtElBsD,EAAAA,EAAAA,IAAA,CAsEwB,iCAAgC,iBAEXhB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,KAD5EC,UAAWlB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,G,EAGjDjB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,IAAJ,WAA3DnD,EAAAA,EAAAA,IAA2F,OAA3FmE,EAAmF,QAAC,WACpFnE,EAAAA,EAAAA,IAAuC,OAAvCoE,EAA8B,QA3EhDzC,EAAAA,EAAAA,IA2EyD,KACvCjB,EAAAA,EAAAA,KAAIwB,EAAKiB,kBAAoBjB,EAAKiB,kBAAoB,EAAI,gBAAkB,oBAA1B,OA5EpEkB,U,YAAAlD,EAAAA,EAAAA,IAAA,QAoFQZ,EAAAA,EAAAA,IA2EM,MA3EN+D,EA2EM,gBA1EJ/D,EAAAA,EAAAA,IAAkB,UAAd,aAAS,IAEmB,IAArBL,GAAAqE,UAAUd,SAAM,WAA3BzD,EAAAA,EAAAA,IAGM,MAHNwE,EAGMlE,EAAA,MAAAA,EAAA,MAFJC,EAAAA,EAAAA,IAA2B,SAAxB,wBAAoB,IACvBA,EAAAA,EAAAA,IAAkF,KAA/EX,MAAM,sBAAqB,oDAAgD,oBAGhFI,EAAAA,EAAAA,IAkEM,MAlENyE,EAkEM,gBAjEJzE,EAAAA,EAAAA,IAaM+B,EAAAA,GAAA,MA1GlBC,EAAAA,EAAAA,IA6FyC9B,GAAAqE,WA7FzC,CA6FyBrC,EAAMC,M,WAAnBnC,EAAAA,EAAAA,IAaM,OAbmCL,IAAKwC,EAAOvC,MAAM,a,EACzDW,EAAAA,EAAAA,IAGM,MAHNmE,EAGM,EAFJnE,EAAAA,EAAAA,IAAwB,WAAAG,EAAAA,EAAAA,IAAjBwB,EAAKd,MAAI,IAChBb,EAAAA,EAAAA,IAA2D,SAAxD,KAACG,EAAAA,EAAAA,IAAGR,GAAAyC,YAAYT,EAAKU,QAAS,OAAGlC,EAAAA,EAAAA,IAAGwB,EAAKyC,UAAQ,MAEtDpE,EAAAA,EAAAA,IAOM,MAPNqE,EAOM,EANJrE,EAAAA,EAAAA,IAAwE,UAA/DwC,QAAKC,GAAE9C,GAAA2E,iBAAiB1C,GAAQvC,MAAM,gBAAe,IAAC,EAnG/EkF,IAoGgBvE,EAAAA,EAAAA,IAAyD,OAAzDwE,GAAyDrE,EAAAA,EAAAA,IAAvBwB,EAAKyC,UAAQ,IAC/CpE,EAAAA,EAAAA,IAAwE,UAA/DwC,QAAKC,GAAE9C,GAAA8E,iBAAiB7C,GAAQvC,MAAM,gBAAe,IAAC,EArG/EqF,IAsGgB1E,EAAAA,EAAAA,IAES,UAFAwC,QAAKC,GAAE9C,GAAAgF,eAAe/C,GAAQvC,MAAM,c,gBAC3CW,EAAAA,EAAAA,IAAiC,QAA3BX,MAAM,YAAW,OAAG,OAvG5CuF,U,OA4GY5E,EAAAA,EAAAA,IAiDM,MAjDN6E,EAiDM,EAhDJ7E,EAAAA,EAAAA,IAA6C,UAAzC,YAAQG,EAAAA,EAAAA,IAAGR,GAAAyC,YAAYzC,GAAAmF,YAAS,IAGpC9E,EAAAA,EAAAA,IAsCM,MAtCN+E,EAsCM,gBArCJ/E,EAAAA,EAAAA,IAA0B,UAAtB,qBAAiB,KACrBA,EAAAA,EAAAA,IAEM,MAFNgF,EAEM,WADJhF,EAAAA,EAAAA,IAAkG,SAA3FiF,KAAK,OAnH9B,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GAmH8C9C,GAAAuF,aAAarE,KAAI4B,GAAE0C,YAAY,oBAAoB9F,MAAM,c,iBAAzDM,GAAAuF,aAAarE,WAE3Cb,EAAAA,EAAAA,IAEM,MAFNoF,EAEM,WADJpF,EAAAA,EAAAA,IAAyF,SAAlFiF,KAAK,MAtH9B,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GAsH6C9C,GAAAuF,aAAaG,MAAK5C,GAAE0C,YAAY,WAAW9F,MAAM,c,iBAAjDM,GAAAuF,aAAaG,YAE1CrF,EAAAA,EAAAA,IAEM,MAFNsF,EAEM,WADJtF,EAAAA,EAAAA,IAAqG,SAA9FiF,KAAK,QAzH9B,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GAyH+C9C,GAAAuF,aAAaK,MAAK9C,GAAE0C,YAAY,qBAAqB9F,MAAM,c,iBAA3DM,GAAAuF,aAAaK,YAE5CvF,EAAAA,EAAAA,IAEM,MAFNwF,GAEM,WADJxF,EAAAA,EAAAA,IAAwG,SAAjGiF,KAAK,OA5H9B,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GA4H8C9C,GAAAuF,aAAajE,QAAOwB,GAAE0C,YAAY,uBAAuB9F,MAAM,c,iBAA/DM,GAAAuF,aAAajE,cAI3CjB,EAAAA,EAAAA,IAgBM,MAhBNyF,GAgBM,gBAfJzF,EAAAA,EAAAA,IAAsB,UAAlB,iBAAa,KACjBA,EAAAA,EAAAA,IAaM,MAbN0F,GAaM,EAZJ1F,EAAAA,EAAAA,IAGQ,QAHR2F,GAGQ,WAFN3F,EAAAA,EAAAA,IAAoF,SAA7EiF,KAAK,QApIlC,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GAoImD9C,GAAAiG,sBAAqBnD,GAAEoD,MAAM,KAAKhF,KAAK,iB,iBAAvClB,GAAAiG,yBAAqB,eAClD5F,EAAAA,EAAAA,IAA2C,QAArCX,MAAM,uBAAsB,MAAE,OAEtCW,EAAAA,EAAAA,IAGQ,QAHR8F,GAGQ,WAFN9F,EAAAA,EAAAA,IAAuF,SAAhFiF,KAAK,QAxIlC,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GAwImD9C,GAAAiG,sBAAqBnD,GAAEoD,MAAM,QAAQhF,KAAK,iB,iBAA1ClB,GAAAiG,yBAAqB,eAClD5F,EAAAA,EAAAA,IAA8C,QAAxCX,MAAM,uBAAsB,SAAK,OAEzCW,EAAAA,EAAAA,IAGQ,QAHR+F,GAGQ,WAFN/F,EAAAA,EAAAA,IAAsF,SAA/EiF,KAAK,QA5IlC,sBAAAlF,EAAA,KAAAA,EAAA,GAAA0C,GA4ImD9C,GAAAiG,sBAAqBnD,GAAEoD,MAAM,OAAOhF,KAAK,iB,iBAAzClB,GAAAiG,yBAAqB,eAClD5F,EAAAA,EAAAA,IAAuD,QAAjDX,MAAM,uBAAsB,kBAAc,WAMtDW,EAAAA,EAAAA,IAEM,MAFNgG,GAEM,WADJhG,EAAAA,EAAAA,IAAyH,YApJ3I,sBAAAD,EAAA,KAAAA,EAAA,GAAA0C,GAoJqC9C,GAAAsG,kBAAiBxD,GAAE0C,YAAY,sCAAsC9F,MAAM,iB,iBAA3EM,GAAAsG,0BAIvBjG,EAAAA,EAAAA,IAIM,MAJNkG,GAIM,EAHJlG,EAAAA,EAAAA,IAES,UAFAwC,QAAKzC,EAAA,KAAAA,EAAA,OAAAoG,IAAExG,GAAAyG,eAAAzG,GAAAyG,iBAAAD,IAAe9G,MAAM,sB,gBACnCW,EAAAA,EAAAA,IAAgC,QAA1BX,MAAM,YAAW,MAAE,IA1J3C+B,EAAAA,EAAAA,IA0JkD,oCAClC,KAOGzB,GAAAqE,UAAUd,OAAS,IAAH,WAA3BzD,EAAAA,EAAAA,IAGM,OArKdL,IAAA,EAkKyCC,MAAM,uBAAwBmD,QAAKzC,EAAA,KAAAA,EAAA,OAAAoG,IAAExG,GAAA0G,eAAA1G,GAAA0G,iBAAAF,K,EACpEnG,EAAAA,EAAAA,IAAsD,OAAtDsG,IAAsDnG,EAAAA,EAAAA,IAApBR,GAAA4G,YAAU,kBAC5CvG,EAAAA,EAAAA,IAAuB,YAAjB,cAAU,QApK1BY,EAAAA,EAAAA,IAAA,OAwKmBjB,GAAA6G,iBAAc,WAAzB/G,EAAAA,EAAAA,IAwCM,MAxCNgH,GAwCM,gBAvCJzG,EAAAA,EAAAA,IAAsB,UAAlB,iBAAa,KACjBA,EAAAA,EAAAA,IAqCM,MArCN0G,GAqCM,CApCO/G,GAAAU,UAAUC,cAAcqG,aAAaC,UAAO,WAAvDnH,EAAAA,EAAAA,IAQM,MARNoH,GAQM,EAPJ7G,EAAAA,EAAAA,IAAkF,WAAAG,EAAAA,EAAAA,IAA3ER,GAAAU,UAAUC,cAAcqG,aAAaG,SAAW,qBAAJ,GAE3CnH,GAAAU,UAAUC,cAAcqG,aAAaC,SAAWjH,GAAAc,aAAad,GAAAU,UAAUC,cAAcqG,aAAaC,WAAO,WADjHnH,EAAAA,EAAAA,IAKC,OAlLfL,IAAA,EA+KiBE,IAAKK,GAAAe,eAAef,GAAAU,UAAUC,cAAcqG,aAAaC,SAC1DrH,IAAI,aACJF,MAAM,iB,OAjLtB0H,MAAAnG,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,OAqLuBjB,GAAAU,UAAUC,cAAcqG,aAAaK,aAAerH,GAAAU,UAAUC,cAAcqG,aAAaM,aAAU,WAA9GxH,EAAAA,EAAAA,IAWM,MAXNyH,GAWM,gBAVJlH,EAAAA,EAAAA,IAAuB,UAAnB,kBAAc,IAEVL,GAAAU,UAAUC,cAAcqG,aAAaM,YAActH,GAAAc,aAAad,GAAAU,UAAUC,cAAcqG,aAAaM,cAAU,WADvHxH,EAAAA,EAAAA,IAKC,OA5LfL,IAAA,EAyLiBE,IAAKK,GAAAe,eAAef,GAAAU,UAAUC,cAAcqG,aAAaM,YAC1D1H,IAAI,QACJF,MAAM,iB,OA3LtB8H,MAAAvG,EAAAA,EAAAA,IAAA,OA6LuBjB,GAAAU,UAAUC,cAAcqG,aAAaK,cAAW,WAAzDvH,EAAAA,EAAAA,IAEI,IAFJ2H,GAEI,gBADFpH,EAAAA,EAAAA,IAAwB,cAAhB,WAAO,KA9L/BoB,EAAAA,EAAAA,IA8LwC,KAACjB,EAAAA,EAAAA,IAAGR,GAAAU,UAAUC,cAAcqG,aAAaK,aAAW,OA9L5FpG,EAAAA,EAAAA,IAAA,WAAAA,EAAAA,EAAAA,IAAA,OAkMuBjB,GAAAU,UAAUC,cAAcqG,aAAaU,WAAQ,WAAxD5H,EAAAA,EAAAA,IAKM,MALN6H,GAKM,gBAJJtH,EAAAA,EAAAA,IAAsB,UAAlB,iBAAa,KACjBA,EAAAA,EAAAA,IAEI,IAFJuH,GAEI,gBADFvH,EAAAA,EAAAA,IAAsC,cAA9B,yBAAqB,KArM7CoB,EAAAA,EAAAA,IAqMsD,KAACjB,EAAAA,EAAAA,IAAGR,GAAAU,UAAUC,cAAcqG,aAAaU,UAAQ,SArMvGzG,EAAAA,EAAAA,IAAA,OAyMuBjB,GAAAU,UAAUC,cAAcqG,aAAaa,sBAAmB,WAAnE/H,EAAAA,EAAAA,IAKM,MALNgI,GAKM,gBAJJzH,EAAAA,EAAAA,IAA6B,UAAzB,wBAAoB,KACxBA,EAAAA,EAAAA,IAEI,IAFJ0H,GAEI,gBADF1H,EAAAA,EAAAA,IAAqC,cAA7B,wBAAoB,KA5M5CoB,EAAAA,EAAAA,IA4MqD,KAACjB,EAAAA,EAAAA,IAAGR,GAAAU,UAAUC,cAAcqG,aAAaa,qBAAmB,SA5MjH5G,EAAAA,EAAAA,IAAA,aAAAA,EAAAA,EAAAA,IAAA,OA0NmBjB,GAAAgI,MAAMC,UAAO,WAAxBnI,EAAAA,EAAAA,IAIM,OA9NdL,IAAA,EA2NaC,OA3NbsD,EAAAA,EAAAA,IAAA,CA2NmB,qBACEhD,GAAAgI,MAAM1C,S,QACdtF,GAAAgI,MAAME,SAAO,KA7N1BjH,EAAAA,EAAAA,IAAA,eAAAkH,E,iFAwOA,IACEjH,KAAM,iBACNkH,KAAAA,GACE,MAAMC,GAAQC,EAAAA,GAAAA,MACRpI,GAAYL,EAAAA,GAAAA,KAAI,GAChBS,GAAQT,EAAAA,GAAAA,IAAI,MACZa,GAAWb,EAAAA,GAAAA,IAAI,MACfwE,GAAYxE,EAAAA,GAAAA,IAAI,IAChB0F,GAAe1F,EAAAA,GAAAA,IAAI,CACvBqB,KAAM,GACNwE,MAAO,GACPE,MAAO,GACPtE,QAAS,KAEL2E,GAAwBpG,EAAAA,GAAAA,IAAI,QAC5ByG,GAAoBzG,EAAAA,GAAAA,IAAI,IAGxBI,GAAgBsI,EAAAA,EAAAA,KAAS,IAEtBF,EAAMG,OAAOzI,IAAM,MAItBgC,GAAewG,EAAAA,EAAAA,KAAS,IACvB7H,EAASwF,OAAUxF,EAASwF,MAAMuC,MAChC/H,EAASwF,MAAMuC,MAAMC,QAAO1G,IAASA,EAAK2G,YADI,KAIjDrF,GAAeiF,EAAAA,EAAAA,KAAS,IACvB7H,EAASwF,OAAUxF,EAASwF,MAAMuC,MAChC/H,EAASwF,MAAMuC,MAAMC,QAAO1G,GAAQA,EAAK2G,YADK,KAKjDxD,GAAYoD,EAAAA,EAAAA,KAAS,IAClBlE,EAAU6B,MAAM0C,QAAO,CAACC,EAAO7G,IAC7B6G,EAAS7G,EAAKU,MAAQV,EAAKyC,UACjC,KAICqE,EAAWC,UACf,IACE7I,EAAUgG,OAAQ,EAClB5F,EAAM4F,MAAQ,KAGd,MAAM8C,QAAkB,uCAClBC,EAAUD,EAAUE,QAAQD,QAClCE,QAAQC,IAAI,kBAAmBH,GAG/B,MAAMlJ,EAAKsI,EAAMG,OAAOzI,GAGxB,GAFAoJ,QAAQC,IAAI,gCAAiCrJ,IAExCA,EAGH,OAFAO,EAAM4F,MAAQ,mCACdhG,EAAUgG,OAAQ,GAKpB,IAEE,MAAMmD,EAAU,yDAChBF,QAAQC,IAAI,kDAAmDC,GAE/D,MAAMC,QAAiBC,MAAMF,GAE7B,GAAIC,EAASE,GAAI,CACf,MAAMC,QAAaH,EAASI,OAE5B,GAAID,EAAKE,QAIP,OAHAjJ,EAASwF,MAAQuD,EAAKG,KACtBT,QAAQC,IAAI,+CAAgD1I,EAASwF,YACrEhG,EAAUgG,OAAQ,EAGtB,CAEAiD,QAAQ7I,MAAM,kEAChB,CAAE,MAAOuJ,GACPV,QAAQ7I,MAAM,2CAA4CuJ,EAC5D,CAGA,IACE,MAAMC,EAAS,GAAGb,kBAAwBlJ,IAC1CoJ,QAAQC,IAAI,wCAAyCU,GAErD,MAAMR,QAAiBC,MAAMO,GAE7B,IAAKR,EAASE,GAAI,CAChBL,QAAQ7I,MAAM,oCAAqCgJ,EAASS,OAAQT,EAASU,YAG7Eb,QAAQC,IAAI,gDACZ,MAAMa,QAAyBV,MAAM,GAAGN,oBAExC,IAAKgB,EAAiBT,GACpB,MAAM,IAAIU,MAAM,+CAA+CD,EAAiBF,UAGlF,MAAMI,QAAqBF,EAAiBP,OAC5C,GAAIS,EAAaR,QAIf,OAHAjJ,EAASwF,MAAQiE,EAAaP,KAC9BT,QAAQC,IAAI,mCAAoC1I,EAASwF,YACzDhG,EAAUgG,OAAQ,GAGlB,MAAM,IAAIgE,MAAM,6CAEpB,CAEA,MAAMT,QAAaH,EAASI,OAE5B,IAAKD,EAAKE,QACR,MAAM,IAAIO,MAAMT,EAAKvB,SAAW,2BAMlC,OAHAxH,EAASwF,MAAQuD,EAAKG,KACtBT,QAAQC,IAAI,4CAA6C1I,EAASwF,YAClEhG,EAAUgG,OAAQ,EAEpB,CAAE,MAAOkE,GACPjB,QAAQ7I,MAAM,iCAAkC8J,GAGhDjB,QAAQC,IAAI,qDAEZ1I,EAASwF,MAAQ,CACfmE,YAAa,CACXtK,GAAI,OACJuK,OAAQ,8BACRC,YAAa,mEACbC,UAAW,uBACXC,SAAU,eACV5J,KAAM,4BACN6J,SAAU,uCAEZjC,MAAO,CACL,CACE1I,GAAI,SACJmB,KAAM,sBACNE,YAAa,2DACbsB,MAAO,KACPP,MAAO,qCACPwI,SAAU,eACVC,WAAW,EACXjC,WAAW,GAEb,CACE5I,GAAI,SACJmB,KAAM,kBACNE,YAAa,qEACbsB,MAAO,KACPP,MAAO,qCACPwI,SAAU,SACVC,WAAW,EACXjC,WAAW,GAEb,CACE5I,GAAI,SACJmB,KAAM,iBACNE,YAAa,+DACbsB,MAAO,KACPP,MAAO,qCACPwI,SAAU,YACVC,WAAW,EACXjC,WAAW,IAGfhI,aAAc,CACZO,KAAM,8BACNE,YAAa,mEACbC,QAAS,eACTC,QAAS,uBACTT,KAAM,6BAGZ,CAEAX,EAAUgG,OAAQ,CACpB,CAAE,MAAO2E,GACP1B,QAAQ7I,MAAM,mCAAoCuK,GAClDvK,EAAM4F,MAAQ,wDACdhG,EAAUgG,OAAQ,CACpB,GAIIW,GAAiB0B,EAAAA,EAAAA,KAAS,KAC9B,MAAMvB,EAActG,EAASwF,OAAOvF,cAAcqG,YAElD,QAAKA,MAIFA,EAAYC,SAAWnG,EAAakG,EAAYC,UACjDD,EAAYG,SACZH,EAAYK,aACXL,EAAYM,YAAcxG,EAAakG,EAAYM,aACpDN,EAAYU,UACZV,EAAYa,oBACb,IAIGjB,GAAa2B,EAAAA,EAAAA,KAAS,IACnBlE,EAAU6B,MAAM0C,QAAO,CAACC,EAAO7G,IAAS6G,EAAQ7G,EAAKyC,UAAU,KAIxE,SAAShC,EAAYC,GACnB,GAAIoI,MAAMC,OAAOrI,IAAS,MAAO,OAGjC,MAAMsI,EAASD,OAAOrI,GAAOuI,QAAQ,IAG9BC,EAAaC,GAAgBH,EAAOI,MAAM,KAG3CC,EAAwBH,EAAYI,QAAQ,wBAAyB,KAG3E,MAAO,GAAGD,KAAyBF,GACrC,CAGApC,eAAehG,EAAUf,GAEvB,GAAI+I,OAAO/I,EAAKuJ,oBAAsB,EAEpC,YADAC,EAAU,iBAAiBxJ,EAAKd,qEAAsE,SAIxG,MAAMuK,QAAoBC,EAAkB1J,GAC5C,IAAKyJ,EAAa,OAElB,MAAME,EAAetH,EAAU6B,MAAM0F,MAAKC,GAEpC7J,EAAKjC,IAAM8L,EAAE9L,GACR8L,EAAE9L,KAAOiC,EAAKjC,GAEhB8L,EAAE3K,OAASc,EAAKd,OAGrByK,EACFA,EAAalH,WAEbJ,EAAU6B,MAAM4F,KAAK,CACnB/L,GAAIiC,EAAKjC,IAAMgM,KAAKC,MAAMC,WAC1B/K,KAAMc,EAAKd,KACXwB,MAAOV,EAAKU,MACZ+B,SAAU,EACV8G,kBAAmBvJ,EAAKuJ,mBAAqB,IAKjDW,IAGAC,IAGAX,EAAU,GAAGxJ,EAAKd,0BAA2B,UAC/C,CAGA,SAASsK,EAAUtD,EAAS5C,EAAO,UAAW8G,EAAW,KACvDjD,QAAQC,IAAI,mCAAmClB,MAAY5C,MAGvD0C,EAAM9B,MAAMmG,WACdC,aAAatE,EAAM9B,MAAMmG,WAI3BrE,EAAM9B,MAAMgC,QAAUA,EACtBF,EAAM9B,MAAMZ,KAAOA,EACnB0C,EAAM9B,MAAM+B,SAAU,EAGtBkB,QAAQC,IAAI,2BAA2BpB,EAAM9B,MAAM+B,oBAAoBD,EAAM9B,MAAMgC,WAGnFF,EAAM9B,MAAMmG,UAAYE,YAAW,KACjCpD,QAAQC,IAAI,6CAA6CgD,OACzDpE,EAAM9B,MAAM+B,SAAU,CAAK,GAC1BmE,EACL,CAGA,SAASF,IACP,IACEM,aAAaC,QAAQ,QAAQxM,EAAciG,QAASwG,KAAKC,UAAUtI,EAAU6B,OAC/E,CAAE,MAAO0G,GACPzD,QAAQ7I,MAAM,4CAA6CsM,EAC7D,CACF,CAGA,SAAS9H,EAAiB7C,GACxB,MAAMD,EAAOqC,EAAU6B,MAAMjE,GAGvB4K,EAAWnM,EAASwF,MAAMuC,OAAOmD,MAAKC,GAAKA,EAAE9L,KAAOiC,EAAKjC,KAC/D,GAAI8M,EAAU,CAEZ,MAAMtB,EAAoBsB,EAAStB,mBAAqB,EACxD,GAAIvJ,EAAKyC,UAAY8G,EAEnB,YADAC,EAAU,uCAAuCxJ,EAAKd,QAAS,UAGnE,CAGAc,EAAKyC,WAGLyH,IACAC,GACF,CAGA,SAASxH,EAAiB1C,GACpBoC,EAAU6B,MAAMjE,GAAOwC,SAAW,GACpCJ,EAAU6B,MAAMjE,GAAOwC,WACvByH,IACAC,KAEAnH,EAAe/C,EAEnB,CAGA,SAAS+C,EAAe/C,GACtBoC,EAAU6B,MAAM4G,OAAO7K,EAAO,GAC9BiK,IACAC,GACF,CAGApD,eAAetC,IACb,IAEE,GAA+B,IAA3BpC,EAAU6B,MAAM3C,OAElB,YADAiI,EAAU,4BAA6B,SAIzC,IAAKjG,EAAaW,MAAMhF,OAASqE,EAAaW,MAAMR,MAElD,YADA8F,EAAU,0CAA2C,SAKvDuB,kBAAkB7G,OAAQ,QAGpB8G,IAGNC,IAEAzB,EAAU,6CAA8C,WAGxDe,YAAW,KAETlI,EAAU6B,MAAQ,GAGlBsG,aAAaU,WAAW,QAAQjN,EAAciG,SAG9CX,EAAaW,MAAQ,CACnBhF,KAAM,GACNwE,MAAO,GACPE,MAAO,GACPtE,QAAS,IAEXgF,EAAkBJ,MAAQ,GAC1B6G,kBAAkB7G,OAAQ,CAAK,GAC9B,IACL,CAAE,MAAO5F,GACP6I,QAAQ7I,MAAM,gCAAiCA,GAC/CkL,EAAU,8BAA+B,SACzCuB,kBAAkB7G,OAAQ,CAC5B,CACF,CAGJ,SAASiH,IAEwB,IAA3B9I,EAAU6B,MAAM3C,OAKfgC,EAAaW,MAAMhF,MAASqE,EAAaW,MAAMR,OAMpDuH,IAEAzB,EAAU,iCAAkC,YAP1CA,EAAU,0CAA2C,SALrDA,EAAU,4BAA6B,QAa3C,CAEA,SAASyB,IAEP,IAAIG,EAAkB,iBAAiB7H,EAAaW,MAAMhF,YAC1DkM,GAAmB,oBAEnB/I,EAAU6B,MAAMmH,SAAQrL,IACtB,MAAMsL,GAAYtL,EAAKU,MAAQV,EAAKyC,UAAUwG,QAAQ,GACtDmC,GAAmB,OAAOpL,EAAKyC,aAAazC,EAAKd,WAAWuB,EAAY6K,MAAa,IAGvFF,GAAmB,kBAAkB3K,EAAY0C,EAAUe,WAEvDX,EAAaW,MAAMR,QACrB0H,GAAmB,kBAAkB7H,EAAaW,MAAMR,WAGtDH,EAAaW,MAAMN,QACrBwH,GAAmB,eAAe7H,EAAaW,MAAMN,WAGnDL,EAAaW,MAAM5E,UACrB8L,GAAmB,mBAAmB7H,EAAaW,MAAM5E,aAGvDgF,EAAkBJ,QACpBkH,GAAmB,4BAA4B9G,EAAkBJ,WAInE,MAAMqH,EAA4C,OAAhCtH,EAAsBC,MAAiB,YACP,UAAhCD,EAAsBC,MAAoB,QAC1C,iBAElBkH,GAAmB,yBAAyBG,IAG5C,MAAMC,EAAiBC,mBAAmBL,GACpCM,EAAc,sCAAsCF,IAG1DG,OAAOC,KAAKF,EAAa,SAC3B,CAGI,SAAShH,IACP,MAAMmH,EAAeC,SAASC,cAAc,kBACxCF,GACFA,EAAaG,eAAe,CAAEC,SAAU,UAE5C,CAGAlF,eAAe2C,EAAkB1J,GAG/B,MAAMkM,EAAmBnD,OAAO/I,EAAKuJ,oBAAsB,EAG3D,GAAI2C,GAAoB,EAEtB,OADA1C,EAAU,iBAAiBxJ,EAAKd,qEAAsE,UAC/F,EAIT,MAAMiN,EAAW9J,EAAU6B,MAAM0F,MAAKC,GAAKA,EAAE9L,KAAOiC,EAAKjC,KACnDqO,EAAeD,EAAWA,EAAS1J,SAAW,EAG9CxB,EAAmBiL,EAAmBE,EAG5C,OAAInL,GAAoB,GACtBuI,EAAU,uCAAuCxJ,EAAKd,QAAS,YACxD,IACE+B,GAAoB,GAC7BuI,EAAU,gBAAgBvI,kBAAiCjB,EAAKd,SAAU,YAGrE,EACT,CAGA6H,eAAeiE,IACb,IAEE,IAAK3I,EAAU6B,OAAoC,IAA3B7B,EAAU6B,MAAM3C,OAEtC,YADA4F,QAAQkF,KAAK,sDAIflF,QAAQC,IAAI,8CAA8C/E,EAAU6B,MAAM3C,uBAG1E,MAAM+K,QAAoBC,eAC1B,IAAKD,IAAgBE,MAAMC,QAAQH,GAEjC,OADAnF,QAAQ7I,MAAM,sCACP,EAIT,MAAMoO,EAAiBhC,KAAKiC,MAAMjC,KAAKC,UAAUtI,EAAU6B,QACrD0I,EAAgB,GACtB,IAAIC,GAAY,EAGhB,MAAM,aAAEC,EAAY,cAAEC,SAAwB,8BAG9C,IAAIC,EAAgB,GACpB,IACEA,QAAsBF,KAAkB,GACnCN,MAAMC,QAAQO,KACjBA,EAAgB,IAElB7F,QAAQC,IAAI,wCAAyC4F,EAAczL,OACrE,CAAE,MAAO0L,GACP9F,QAAQkF,KAAK,uCAAwCY,GACrDD,EAAgB,EAClB,CAGA,IAAK,IAAInD,EAAI,EAAGA,EAAI6C,EAAenL,OAAQsI,IAAK,CAC9C,MAAMsC,EAAWO,EAAe7C,GAChC1C,QAAQC,IAAI,mBAAmByC,EAAE,KAAK6C,EAAenL,WAAW4K,EAASjN,aAAaiN,EAASpO,OAE/F,IAEE,MAAM8M,EAAWyB,EAAY1C,MAAK5J,GAAQA,EAAKjC,KAAOoO,EAASpO,KAE/D,IAAK8M,EAAU,CACb1D,QAAQkF,KAAK,sCAAsCF,EAASjN,aAAaiN,EAASpO,OAClF6O,EAAc9C,KAAK,CACjB5K,KAAMiN,EAASjN,KACfyI,SAAS,EACTrJ,MAAO,sCAET,QACF,CAGA,MAAM4O,EAAkBC,SAASpE,OAAO8B,EAAStB,mBAAqB,GAAI,IACpE6D,EAAeD,SAASpE,OAAOoD,EAAS1J,UAAY,GAAI,IAE9D,GAAIqG,MAAMoE,IAAoBpE,MAAMsE,GAAe,CACjD,MAAM9O,EAAQ,6BAA6B6N,EAASjN,oBAAoB2L,EAAStB,8BAA8B4C,EAAS1J,WACxH0E,QAAQ7I,MAAMA,GACdsO,EAAc9C,KAAK,CACjB5K,KAAMiN,EAASjN,KACfyI,SAAS,EACTrJ,MAAOA,IAETuO,GAAY,EACZ,QACF,CAGA,MAAMQ,EAAcC,KAAKC,IAAI,EAAGL,EAAkBE,GAElDjG,QAAQC,IAAI,gBAAgB+E,EAASjN,SAASgO,OAAqBE,OAAkBC,mCAA6CH,gCAA8CE,MAGhL,MAAMI,QAAsBC,uBAAuB5C,EAAS9M,GAAIsP,GAYhE,GATAT,EAAc9C,KAAK,CACjB5K,KAAMiN,EAASjN,KACfwO,YAAaR,EACbE,aAAcA,EACdC,YAAaA,EACb1F,QAAS6F,EACTlP,MAAOkP,EAAgB,KAAO,uCAG3BA,EAEE,CAEL,MAAMG,GAAc,IAAI5D,MAAO6D,cACzBC,EAAmBb,EAAcpD,MAAK5J,GAAQA,EAAKd,OAASiN,EAASjN,OAEvE2O,GACFA,EAAiBpL,UAAY2K,EAC7BS,EAAiBC,KAAOH,GAExBX,EAAclD,KAAK,CACjB5K,KAAMiN,EAASjN,KACfuD,SAAU2K,EACV1M,MAAOyL,EAASzL,MAChBC,cAAekK,EAASlK,gBAAiB,EACzCmN,KAAMH,IAGVxG,QAAQC,IAAI,6CAA6C+E,EAASjN,SAASkO,IAC7E,MAnBEP,GAAY,CAoBhB,CAAE,MAAOkB,GACP5G,QAAQ7I,MAAM,oBAAoB6N,EAASjN,QAAS6O,GACpDnB,EAAc9C,KAAK,CACjB5K,KAAMiN,EAASjN,KACfyI,SAAS,EACTrJ,MAAOyP,EAAU7H,SAAW,sBAE9B2G,GAAY,CACd,CACF,CAGA,UACQE,EAAcC,GACpB7F,QAAQC,IAAI,+CAA+C4F,EAAczL,mBAC3E,CAAE,MAAOyM,GACP7G,QAAQ7I,MAAM,uCAAwC0P,EACxD,CAGA,MAAMC,EAAerB,EAAclG,QAAOwH,GAAKA,EAAEvG,UAASpG,OAM1D,GALA4F,QAAQC,IAAI,mDAAmD6G,KAAgBvB,EAAenL,UAG9F4F,QAAQC,IAAI,2CAA4CwF,GAEpDC,EAAW,CACb,MAAMsB,EAAcvB,EAAclG,QAAOwH,IAAMA,EAAEvG,UAASyG,KAAIF,GAAKA,EAAEhP,OAAMmP,KAAK,MAChFlH,QAAQkF,KAAK,gDAAgD8B,IAC/D,CAEA,OAAOF,EAAe,CACxB,CAAE,MAAO3P,GAEP,OADA6I,QAAQ7I,MAAM,0CAA2CA,IAClD,CACT,CACF,CAIA,SAAS6L,IACFzL,EAASwF,OAAOuC,OAGrB/H,EAASwF,MAAMuC,MAAM4E,SAAQR,IAE3B,MAAMsB,EAAW9J,EAAU6B,MAAM0F,MAAKC,GAAKA,EAAE9L,KAAO8M,EAAS9M,KACvDqO,EAAeD,EAAWA,EAAS1J,SAAW,EAG9CyJ,EAAmBnD,OAAO8B,EAAStB,oBAAsB,EAG/DsB,EAAS5J,iBAAmBiL,EAAmBE,EAE/CjF,QAAQC,IAAI,mCAAmCyD,EAAS3L,SAAS2L,EAAS5J,oCAAoCiL,eAA8BE,KAAgB,GAEhK,CAGA,SAAStN,EAAawP,GACpB,QAAKA,OAGDA,EAAYC,WAAW,aAAcD,EAAYC,WAAW,gBAK5DD,EAAYC,WAAW,eAK7B,CAGA,SAASxP,EAAeuP,GACtB,OAAKA,EAGDxP,EAAawP,GACRA,EAILA,EAAYE,SAAS,UAAYF,EAAYC,WAAW,eACnD,0BAA0BD,IAI5B,GAbkB,EAc3B,CAGA,MAAMG,GAAsB5Q,EAAAA,GAAAA,KAAI,GAC1B6Q,GAA0B7Q,EAAAA,GAAAA,KAAI,GAC9B8Q,GAAqB9Q,EAAAA,GAAAA,KAAI,GACzB+Q,GAAmB/Q,EAAAA,GAAAA,IAAI,MAEvBgR,GAAkBhR,EAAAA,GAAAA,IAAI,CAC1BiR,SAAU,GACVC,YAAa,GACbC,cAAe,GACf1P,QAAS,GACTsE,MAAO,GACPqL,UAAWC,IACXC,gBAAiB,GACjBC,gBAAiB,GACjBC,YAAa,EACbC,gBAAiB,KAInB,SAASJ,IACP,MAAMK,EAAQ,IAAIxF,KACZyF,EAAOD,EAAME,cACbC,EAAQC,OAAOJ,EAAMK,WAAa,GAAGC,SAAS,EAAG,KACjDC,EAAMH,OAAOJ,EAAMQ,WAAWF,SAAS,EAAG,KAChD,MAAO,GAAGL,KAAQE,KAASI,GAC7B,CAGA/I,eAAeiJ,IACbtB,EAAwBxK,OAAQ,EAChCyK,EAAmBzK,OAAQ,EAC3B0K,EAAiB1K,MAAQ,KAEzB,IAEE,MAAM+L,QAAeC,gBAAgBrB,EAAgB3K,OAErD,IAAI+L,EAAOtI,QAeT,MAAM,IAAIO,MAAM+H,EAAO3R,OAAS,gCAbhCqQ,EAAmBzK,OAAQ,EAC3BsF,EAAU,2EAA4E,WAGtFrC,QAAQC,IAAI,qCAAsCyH,EAAgB3K,MAAMN,OAGxE2G,YAAW,KACT4F,IACA1B,EAAoBvK,OAAQ,CAAK,GAChC,IAKP,CAAE,MAAO5F,GACP6I,QAAQ7I,MAAM,8BAA+BA,GAC7CsQ,EAAiB1K,MAAQ,0EACzBsF,EAAU,+DAAgE,QAC5E,CAAE,QACAkF,EAAwBxK,OAAQ,CAClC,CACF,CAGA,SAASkM,IACPD,IACA1B,EAAoBvK,OAAQ,CAC9B,CAGA,SAASiM,IACPtB,EAAgB3K,MAAM4K,SAAW,GACjCD,EAAgB3K,MAAM6K,YAAc,GACpCF,EAAgB3K,MAAM8K,cAAgB,GACtCH,EAAgB3K,MAAM5E,QAAU,GAChCuP,EAAgB3K,MAAMN,MAAQ,GAC9BiL,EAAgB3K,MAAM+K,UAAYC,IAClCL,EAAgB3K,MAAMiL,gBAAkB,GACxCN,EAAgB3K,MAAMkL,gBAAkB,GACxCP,EAAgB3K,MAAMmL,YAAc,EACpCR,EAAgB3K,MAAMoL,gBAAkB,GACxCX,EAAmBzK,OAAQ,EAC3B0K,EAAiB1K,MAAQ,IAC3B,CAGA6C,eAAesJ,IACb,IACE,MAAM1R,QAAqB2R,8BAA6B,GACpD3R,IACFD,EAASwF,MAAMvF,aAAeA,EAC9B4R,EAAuBrM,MAAQ6F,KAAKC,MACpCR,EAAU,sCAAuC,WAErD,CAAE,MAAOlL,GACP6I,QAAQ7I,MAAM,8CAA+CA,GAC7DkL,EAAU,8CAA+C,QAC3D,CACF,CAGA,MAAMxD,GAAQnI,EAAAA,GAAAA,IAAI,CAChBoI,SAAS,EACTC,QAAS,GACT5C,KAAM,UACN+G,UAAW,OAIPkG,GAAyB1S,EAAAA,GAAAA,IAAI,MAMnC,OAJA2S,EAAAA,EAAAA,KAAU,KACR1J,GAAU,IAGL,CACL7I,gBACAC,YACAI,QACAI,WACAqB,eACAuB,eACAe,YACAc,YACAyB,aACArB,eACAU,wBACAK,oBACAvD,YACAiC,iBACAF,mBACAH,mBACAlC,cACAgE,gBACA0G,uBACAzG,gBACA5F,eACAC,iBACA8F,iBAEA4J,sBACAI,kBACAH,0BACAC,qBACAC,mBACAoB,oBACAI,oBACAlB,iBAEAlJ,QAEAqK,sBAEAE,yBAEJ,G,WC3jCF,MAAME,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAASC,IAAQ,CAAC,YAAY,qBAEzF,S,uBCRA,IAAIC,EAAI,EAAQ,MACZC,EAAU,EAAQ,MAClBC,EAAY,EAAQ,MACpBC,EAAW,EAAQ,MACnBC,EAAoB,EAAQ,MAE5BC,EAAaC,UAIjBN,EAAE,CAAEO,OAAQ,WAAYC,OAAO,EAAMC,MAAM,GAAQ,CACjDxK,OAAQ,SAAgByK,GACtBP,EAASQ,MACTT,EAAUQ,GACV,IAAIE,EAASR,EAAkBO,MAC3BE,EAAYC,UAAUlQ,OAAS,EAC/BmQ,EAAcF,OAAYG,EAAYF,UAAU,GAChDG,EAAU,EAUd,GATAhB,EAAQW,GAAQ,SAAUrN,GACpBsN,GACFA,GAAY,EACZE,EAAcxN,GAEdwN,EAAcL,EAAQK,EAAaxN,EAAO0N,GAE5CA,GACF,GAAG,CAAEC,WAAW,IACZL,EAAW,MAAM,IAAIR,EAAW,kDACpC,OAAOU,CACT,G","sources":["webpack://websap/./src/views/SharedMenuView.vue","webpack://websap/./src/views/SharedMenuView.vue?e8e7","webpack://websap/./node_modules/core-js/modules/es.iterator.reduce.js"],"sourcesContent":["<template>\n  <div class=\"shared-menu-container\" :id=\"restauranteId\">\n    <div v-if=\"isLoading\" class=\"loading\">\n      <div class=\"spinner\"></div>\n      <p>Cargando menú...</p>\n    </div>\n    \n    <div v-else-if=\"error\" class=\"error\">\n      <p>{{ error }}</p>\n    </div>\n    \n    <div v-else class=\"menu-content\">\n      <!-- Información del negocio -->\n      <div v-if=\"menuData?.businessInfo\" class=\"business-info\">\n        <img v-if=\"menuData.businessInfo.logo && isValidImage(menuData.businessInfo.logo)\" :src=\"fixImageFormat(menuData.businessInfo.logo)\" alt=\"Logo\" class=\"business-logo\">\n        <h1>{{ menuData.businessInfo.name }}</h1>\n        <p class=\"description\">{{ menuData.businessInfo.description }}</p>\n        <div class=\"contact-info\" v-if=\"menuData.businessInfo.contact || menuData.businessInfo.address\">\n          <p v-if=\"menuData.businessInfo.contact\"><strong>Contacto:</strong> {{ menuData.businessInfo.contact }}</p>\n          <p v-if=\"menuData.businessInfo.address\"><strong>Dirección:</strong> {{ menuData.businessInfo.address }}</p>\n        </div>\n      </div>\n      \n      <!-- Lista de productos -->\n      <div>\n        <!-- Platos regulares -->\n        <div class=\"menu-list\">\n          <h2>Nuestro Menú</h2>\n          <div class=\"menu-items\">\n            <div v-for=\"(item, index) in regularItems\" :key=\"index\" class=\"menu-item\">\n              <div class=\"item-image-container\">\n                <img v-if=\"item.image && isValidImage(item.image)\" :src=\"fixImageFormat(item.image)\" alt=\"Imagen del producto\" class=\"item-image\">\n                <img v-else src=\"https://via.placeholder.com/150?text=Sin+Imagen\" alt=\"Sin imagen disponible\" class=\"item-image\">\n              </div>\n              <div class=\"item-details\">\n                <h3>{{ item.name }}</h3>\n                <p class=\"item-description\">{{ item.description }}</p>\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\n                <button \n                  @click=\"addToCart(item)\" \n                  class=\"add-to-cart-btn\"\n                  :disabled=\"!item.realAvailability || item.realAvailability <= 0\"\n                  :class=\"{ 'disabled-btn': !item.realAvailability || item.realAvailability <= 0 }\"\n                >\n                  <span v-if=\"!item.realAvailability || item.realAvailability <= 0\" class=\"btn-icon\">❌</span>\n                  <span v-else class=\"btn-icon\">🛒</span>\n                  {{ !item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido' }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Platos especiales (solo se muestra si hay platos especiales) -->\n        <div v-if=\"specialItems.length > 0\" class=\"menu-list special-menu-list\">\n          <h2>Platos Especiales</h2>\n          <div class=\"menu-items\">\n            <div v-for=\"(item, index) in specialItems\" :key=\"index\" class=\"menu-item special-item\">\n              <div class=\"item-image-container\">\n                <img v-if=\"item.image && isValidImage(item.image)\" :src=\"fixImageFormat(item.image)\" alt=\"Imagen del producto\" class=\"item-image\">\n                <img v-else src=\"https://via.placeholder.com/150?text=Sin+Imagen\" alt=\"Sin imagen disponible\" class=\"item-image\">\n              </div>\n              <div class=\"item-details\">\n                <h3>{{ item.name }}</h3>\n                <p class=\"item-description\">{{ item.description }}</p>\n                <p class=\"item-price\">${{ formatPrice(item.price) }}</p>\n                <p class=\"includes-drink\" v-if=\"item.includesDrink\">Incluye refresco</p>\n                <button \n                  @click=\"addToCart(item)\" \n                  class=\"add-to-cart-btn special-button\"\n                  :disabled=\"!item.realAvailability || item.realAvailability <= 0\"\n                  :class=\"{ 'disabled-btn': !item.realAvailability || item.realAvailability <= 0 }\"\n                >\n                  <span v-if=\"!item.realAvailability || item.realAvailability <= 0\" class=\"btn-icon\">❌</span>\n                  <span v-else class=\"btn-icon\">🛒</span>\n                  {{ !item.realAvailability || item.realAvailability <= 0 ? 'No disponible' : 'Añadir al pedido' }}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Sección de \"Tu Pedido\" - Siempre visible aunque vacía -->\n        <div class=\"order-section\" ref=\"orderSection\">\n          <h2>Tu Pedido</h2>\n          \n          <div v-if=\"cartItems.length === 0\" class=\"empty-cart\">\n            <p>Tu pedido está vacío</p>\n            <p class=\"empty-cart-message\">Añade productos del menú para comenzar tu pedido</p>\n          </div>\n          \n          <div v-else class=\"cart-items\">\n            <div v-for=\"(item, index) in cartItems\" :key=\"index\" class=\"cart-item\">\n              <div class=\"cart-item-details\">\n                <h3>{{ item.name }}</h3>\n                <p>${{ formatPrice(item.price) }} x {{ item.quantity }}</p>\n              </div>\n              <div class=\"cart-item-actions\">\n                <button @click=\"decreaseQuantity(index)\" class=\"quantity-btn\">-</button>\n                <span class=\"quantity-display\">{{ item.quantity }}</span>\n                <button @click=\"increaseQuantity(index)\" class=\"quantity-btn\">+</button>\n                <button @click=\"removeFromCart(index)\" class=\"remove-btn\">\n                  <span class=\"btn-icon\">🗑️</span>\n                </button>\n              </div>\n            </div>\n            \n            <div class=\"cart-total\">\n              <h3>Total: ${{ formatPrice(cartTotal) }}</h3>\n              \n              <!-- Formulario de datos del cliente -->\n              <div class=\"customer-form\">\n                <h4>Datos del Cliente</h4>\n                <div class=\"form-row\">\n                  <input type=\"text\" v-model=\"customerInfo.name\" placeholder=\"Nombres completos\" class=\"form-input\">\n                </div>\n                <div class=\"form-row\">\n                  <input type=\"tel\" v-model=\"customerInfo.phone\" placeholder=\"Teléfono\" class=\"form-input\">\n                </div>\n                <div class=\"form-row\">\n                  <input type=\"email\" v-model=\"customerInfo.email\" placeholder=\"Correo electrónico\" class=\"form-input\">\n                </div>\n                <div class=\"form-row\">\n                  <input type=\"text\" v-model=\"customerInfo.address\" placeholder=\"Dirección de entrega\" class=\"form-input\">\n                </div>\n                \n                <!-- Lista horizontal de métodos de pago -->\n                <div class=\"payment-methods-selection\">\n                  <h4>Forma de Pago</h4>\n                  <div class=\"payment-options\">\n                    <label class=\"payment-option\">\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"qr\" name=\"paymentMethod\">\n                      <span class=\"payment-option-text\">QR</span>\n                    </label>\n                    <label class=\"payment-option\">\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"nequi\" name=\"paymentMethod\">\n                      <span class=\"payment-option-text\">Nequi</span>\n                    </label>\n                    <label class=\"payment-option\">\n                      <input type=\"radio\" v-model=\"selectedPaymentMethod\" value=\"cash\" name=\"paymentMethod\">\n                      <span class=\"payment-option-text\">Contra entrega</span>\n                    </label>\n                  </div>\n                </div>\n                \n                <!-- Campo de mensaje adicional -->\n                <div class=\"form-row\">\n                  <textarea v-model=\"additionalMessage\" placeholder=\"Mensaje o instrucciones adicionales\" class=\"form-textarea\"></textarea>\n                </div>\n              </div>\n              \n              <div class=\"order-actions\">\n                <button @click=\"completeOrder\" class=\"complete-order-btn\">\n                  <span class=\"btn-icon\">📱</span> Enviar por WhatsApp\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Botón flotante para ver pedido (visible cuando hay items y se hace scroll) -->\n        <div v-if=\"cartItems.length > 0\" class=\"floating-cart-button\" @click=\"scrollToOrder\">\n          <span class=\"cart-items-count\">{{ totalItems }}</span>\n          <span>Ver Pedido</span>\n        </div>\n        \n        <!-- Nueva sección: Forma de Pago -->\n        <div v-if=\"hasPaymentInfo\" class=\"payment-section\">\n          <h2>Forma de Pago</h2>\n          <div class=\"payment-methods\">\n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.qrImage\" class=\"payment-method\">\n              <h3>{{ menuData?.businessInfo?.paymentInfo?.qrTitle || 'Código QR de Pago' }}</h3>\n              <img \n                v-if=\"menuData?.businessInfo?.paymentInfo?.qrImage && isValidImage(menuData?.businessInfo?.paymentInfo?.qrImage)\" \n                :src=\"fixImageFormat(menuData?.businessInfo?.paymentInfo?.qrImage)\" \n                alt=\"QR de Pago\" \n                class=\"payment-image\"\n              >\n            </div>\n            \n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.nequiNumber || menuData?.businessInfo?.paymentInfo?.nequiImage\" class=\"payment-method\">\n              <h3>Pago con Nequi</h3>\n              <img \n                v-if=\"menuData?.businessInfo?.paymentInfo?.nequiImage && isValidImage(menuData?.businessInfo?.paymentInfo?.nequiImage)\" \n                :src=\"fixImageFormat(menuData?.businessInfo?.paymentInfo?.nequiImage)\" \n                alt=\"Nequi\" \n                class=\"payment-image\"\n              >\n              <p v-if=\"menuData?.businessInfo?.paymentInfo?.nequiNumber\" class=\"payment-detail\">\n                <strong>Número:</strong> {{ menuData?.businessInfo?.paymentInfo?.nequiNumber }}\n              </p>\n            </div>\n            \n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.bankInfo\" class=\"payment-method\">\n              <h3>Pago Bancario</h3>\n              <p class=\"payment-detail\">\n                <strong>Información Bancaria:</strong> {{ menuData?.businessInfo?.paymentInfo?.bankInfo }}\n              </p>\n            </div>\n            \n            <div v-if=\"menuData?.businessInfo?.paymentInfo?.otherPaymentMethods\" class=\"payment-method\">\n              <h3>Otras Formas de Pago</h3>\n              <p class=\"payment-detail\">\n                <strong>Métodos Adicionales:</strong> {{ menuData?.businessInfo?.paymentInfo?.otherPaymentMethods }}\n              </p>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Comentado temporalmente hasta que el componente ReservaForm esté disponible\n        <div class=\"reserva-section container mt-5\">\n          <h3 class=\"text-center mb-4\">¿Quieres hacer una reserva?</h3>\n          <ReservaForm />\n        </div>\n        -->\n        \n        <!-- Sistema de notificaciones toast -->\n        <div v-if=\"toast.visible\" \n             class=\"toast-notification\" \n             :class=\"toast.type\">\n          {{ toast.message }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, onMounted } from 'vue';\nimport { useRoute } from 'vue-router';\n\nexport default {\n  name: 'SharedMenuView',\n  setup() {\n    const route = useRoute();\n    const isLoading = ref(true);\n    const error = ref(null);\n    const menuData = ref(null);\n    const cartItems = ref([]);\n    const customerInfo = ref({\n      name: '',\n      phone: '',\n      email: '',\n      address: ''\n    });\n    const selectedPaymentMethod = ref('cash'); // Por defecto contra entrega\n    const additionalMessage = ref('');\n    \n    // Obtener el ID del restaurante de la URL\n    const restauranteId = computed(() => {\n      // Usar el ID de la URL o un valor predeterminado\n      return route.params.id || '1';\n    });\n    \n    // Elementos del menú regulares y especiales\n    const regularItems = computed(() => {\n      if (!menuData.value || !menuData.value.items) return [];\n      return menuData.value.items.filter(item => !item.isSpecial);\n    });\n    \n    const specialItems = computed(() => {\n      if (!menuData.value || !menuData.value.items) return [];\n      return menuData.value.items.filter(item => item.isSpecial);\n    });\n    \n    // Total del carrito\n    const cartTotal = computed(() => {\n      return cartItems.value.reduce((total, item) => {\n        return total + (item.price * item.quantity);\n      }, 0);\n    });\n    \n    // Cargar el menú desde la API pública\n    const loadMenu = async () => {\n      try {\n        isLoading.value = true;\n        error.value = null;\n        \n        // Importar la configuración de la API\n        const apiConfig = await import('../config/apiConfig');\n        const API_URL = apiConfig.default.API_URL;\n        console.log('Usando API URL:', API_URL);\n        \n        // Obtener el ID del restaurante de la URL\n        const id = route.params.id;\n        console.log('ID del restaurante desde URL:', id);\n        \n        if (!id) {\n          error.value = 'ID de restaurante no válido';\n          isLoading.value = false;\n          return;\n        }\n        \n        // Intentar cargar el menú directamente desde el servidor de producción\n        try {\n          // URL absoluta para asegurar que se use el servidor de producción\n          const prodUrl = 'https://websap-backend.onrender.com/api/menu-publico/1';\n          console.log('Intentando cargar menú desde URL de producción:', prodUrl);\n          \n          const response = await fetch(prodUrl);\n          \n          if (response.ok) {\n            const data = await response.json();\n            \n            if (data.success) {\n              menuData.value = data.menu;\n              console.log('Menú cargado correctamente desde producción:', menuData.value);\n              isLoading.value = false;\n              return;\n            }\n          }\n          \n          console.error('Error al cargar desde URL de producción, intentando con API_URL');\n        } catch (prodError) {\n          console.error('Error al cargar desde URL de producción:', prodError);\n        }\n        \n        // Si falla la carga desde la URL de producción, intentar con API_URL\n        try {\n          const apiUrl = `${API_URL}/menu-publico/${id}`;\n          console.log('Intentando cargar menú desde API_URL:', apiUrl);\n          \n          const response = await fetch(apiUrl);\n          \n          if (!response.ok) {\n            console.error('Error en la respuesta de API_URL:', response.status, response.statusText);\n            \n            // Intentar con ID 1 como fallback\n            console.log('Intentando cargar menú con ID de fallback: 1');\n            const fallbackResponse = await fetch(`${API_URL}/menu-publico/1`);\n            \n            if (!fallbackResponse.ok) {\n              throw new Error(`Error al cargar el menú con ID de fallback: ${fallbackResponse.status}`);\n            }\n            \n            const fallbackData = await fallbackResponse.json();\n            if (fallbackData.success) {\n              menuData.value = fallbackData.menu;\n              console.log('Menú cargado con ID de fallback:', menuData.value);\n              isLoading.value = false;\n              return;\n            } else {\n              throw new Error('Error al cargar el menú con ID de fallback');\n            }\n          }\n          \n          const data = await response.json();\n          \n          if (!data.success) {\n            throw new Error(data.message || 'Error al cargar el menú');\n          }\n          \n          menuData.value = data.menu;\n          console.log('Menú cargado correctamente desde API_URL:', menuData.value);\n          isLoading.value = false;\n          return;\n        } catch (apiError) {\n          console.error('Error al cargar desde API_URL:', apiError);\n          \n          // Como último recurso, crear datos de demostración localmente\n          console.log('Creando datos de demostración como último recurso');\n          \n          menuData.value = {\n            restaurante: {\n              id: 'demo',\n              nombre: 'Restaurante de Demostración',\n              descripcion: 'Este es un restaurante de demostración para probar la aplicación',\n              direccion: 'Calle Principal #123',\n              telefono: '123-456-7890',\n              logo: 'https://picsum.photos/200',\n              horarios: 'Lunes a Domingo: 8:00 AM - 10:00 PM'\n            },\n            items: [\n              {\n                id: 'demo-1',\n                name: 'Hamburguesa Clásica',\n                description: 'Deliciosa hamburguesa con carne, queso, lechuga y tomate',\n                price: 15000,\n                image: 'https://picsum.photos/300?random=1',\n                category: 'Hamburguesas',\n                available: true,\n                isSpecial: true\n              },\n              {\n                id: 'demo-2',\n                name: 'Pizza Margarita',\n                description: 'Pizza tradicional con salsa de tomate, queso mozzarella y albahaca',\n                price: 25000,\n                image: 'https://picsum.photos/300?random=2',\n                category: 'Pizzas',\n                available: true,\n                isSpecial: false\n              },\n              {\n                id: 'demo-3',\n                name: 'Ensalada César',\n                description: 'Ensalada fresca con lechuga, pollo, crutones y aderezo césar',\n                price: 12000,\n                image: 'https://picsum.photos/300?random=3',\n                category: 'Ensaladas',\n                available: true,\n                isSpecial: false\n              }\n            ],\n            businessInfo: {\n              name: 'Restaurante de Demostración',\n              description: 'Este es un restaurante de demostración para probar la aplicación',\n              contact: '123-456-7890',\n              address: 'Calle Principal #123',\n              logo: 'https://picsum.photos/200'\n            }\n          };\n        }\n        \n        isLoading.value = false;\n      } catch (err) {\n        console.error('Error general al cargar el menú:', err);\n        error.value = 'Error al cargar el menú. Por favor, intenta de nuevo.';\n        isLoading.value = false;\n      }\n    };\n    \n    // Verificar si hay información de pago\n    const hasPaymentInfo = computed(() => {\n      const paymentInfo = menuData.value?.businessInfo?.paymentInfo;\n      \n      if (!paymentInfo) return false;\n      \n      // Verificar si hay al menos un campo de información de pago con datos\n      return !!(\n        (paymentInfo.qrImage && isValidImage(paymentInfo.qrImage)) || \n        paymentInfo.qrTitle || \n        paymentInfo.nequiNumber || \n        (paymentInfo.nequiImage && isValidImage(paymentInfo.nequiImage)) || \n        paymentInfo.bankInfo || \n        paymentInfo.otherPaymentMethods\n      );\n    });\n    \n    // Contador total de items\n    const totalItems = computed(() => {\n      return cartItems.value.reduce((total, item) => total + item.quantity, 0);\n    });\n\n    // Formatear precio\n    function formatPrice(price) {\n      if (isNaN(Number(price))) return '0,00';\n      \n      // Convertir a número y formatear con 2 decimales fijos\n      const numero = Number(price).toFixed(2);\n      \n      // Separar parte entera y decimal\n      const [parteEntera, parteDecimal] = numero.split('.');\n      \n      // Formatear parte entera con puntos como separadores de miles\n      const parteEnteraFormateada = parteEntera.replace(/\\B(?=(\\d{3})+(?!\\d))/g, '.');\n      \n      // Unir con coma como separador decimal\n      return `${parteEnteraFormateada},${parteDecimal}`;\n    }\n\n    // Agregar al carrito con verificación de disponibilidad\n    async function addToCart(item) {\n      // Verificación directa antes de hacer la comprobación completa\n      if (Number(item.availableQuantity) <= 0) {\n        showToast(`Lo sentimos, \"${item.name}\" no está disponible actualmente. Intente más tarde por favor.`, 'error');\n        return;\n      }\n      \n      const isAvailable = await checkAvailability(item);\n      if (!isAvailable) return;\n      \n      const existingItem = cartItems.value.find(i => {\n        // Asegurar que ambos items tienen ID y compararlos, o comparar por nombre si no hay ID\n        if (item.id && i.id) {\n          return i.id === item.id;\n        }\n        return i.name === item.name;\n      });\n      \n      if (existingItem) {\n        existingItem.quantity++;\n      } else {\n        cartItems.value.push({\n          id: item.id || Date.now().toString(),\n          name: item.name,\n          price: item.price,\n          quantity: 1,\n          availableQuantity: item.availableQuantity || 0 // Usar 0 como valor por defecto\n        });\n      }\n      \n      // Guardar carrito en localStorage\n      saveCartToLocalStorage();\n      \n      // Actualizar la disponibilidad en tiempo real\n      updateAvailabilityInMenu();\n      \n      // Mostrar notificación de éxito\n      showToast(`${item.name} añadido al carrito`, 'success');\n    }\n    \n    // Mostrar notificaciones toast\n    function showToast(message, type = 'success', duration = 5000) { // Aumentar a 5 segundos\n      console.log(`[Toast] Mostrando notificación: ${message} (${type})`);\n      \n      // Si ya hay un toast visible, limpiamos su timeout\n      if (toast.value.timeoutId) {\n        clearTimeout(toast.value.timeoutId);\n      }\n      \n      // Configurar el nuevo toast\n      toast.value.message = message;\n      toast.value.type = type;\n      toast.value.visible = true;\n      \n      // Debug: verificar que el estado del toast cambió\n      console.log(`[Toast] Estado: visible=${toast.value.visible}, message=${toast.value.message}`);\n      \n      // Configurar timeout para ocultar después de la duración\n      toast.value.timeoutId = setTimeout(() => {\n        console.log(`[Toast] Ocultando notificación después de ${duration}ms`);\n        toast.value.visible = false;\n      }, duration);\n    }\n\n    // Guardar carrito en localStorage\n    function saveCartToLocalStorage() {\n      try {\n        localStorage.setItem(`cart_${restauranteId.value}`, JSON.stringify(cartItems.value));\n      } catch (e) {\n        console.error(\"Error al guardar carrito en localStorage:\", e);\n      }\n    }\n\n    // Incrementar cantidad\n    function increaseQuantity(index) {\n      const item = cartItems.value[index];\n      \n      // Buscar el ítem en el menú\n      const menuItem = menuData.value.items?.find(i => i.id === item.id);\n      if (menuItem) {\n        // Verificar disponibilidad\n        const availableQuantity = menuItem.availableQuantity || 0;\n        if (item.quantity >= availableQuantity) {\n          showToast(`No hay más unidades disponibles de \"${item.name}\"`, 'warning');\n          return;\n        }\n      }\n      \n      // Incrementar cantidad\n      item.quantity++;\n      \n      // Guardar carrito y actualizar disponibilidad\n      saveCartToLocalStorage();\n      updateAvailabilityInMenu();\n    }\n\n    // Reemplazar la función decreaseQuantity (líneas 409-416)\n    function decreaseQuantity(index) {\n      if (cartItems.value[index].quantity > 1) {\n        cartItems.value[index].quantity--;\n        saveCartToLocalStorage();\n        updateAvailabilityInMenu(); // Actualizar disponibilidad\n      } else {\n        removeFromCart(index);\n      }\n    }\n\n    // Reemplazar la función removeFromCart (líneas 419-422)\n    function removeFromCart(index) {\n      cartItems.value.splice(index, 1);\n      saveCartToLocalStorage();\n      updateAvailabilityInMenu(); // Actualizar disponibilidad\n    }\n    \n    // Completar pedido con actualización de inventario\n    async function completeOrder() {\n      try {\n        // Validaciones básicas\n        if (cartItems.value.length === 0) {\n          showToast('No hay ítems en el pedido', 'error');\n          return;\n        }\n        \n        if (!customerInfo.value.name || !customerInfo.value.phone) {\n          showToast('Por favor complete su nombre y teléfono', 'error');\n          return;\n        }\n      \n        // Indicar que está procesando\n        isProcessingOrder.value = true;\n        \n        // Actualizar inventario - Usar el carrito correcto\n        await updateInventory();\n        \n        // Compartir en WhatsApp\n        openWhatsAppShare();\n        \n        showToast('¡Pedido completado! Gracias por tu compra.', 'success');\n        \n        // Limpiar carrito y datos del cliente después de completar\n        setTimeout(() => {\n          // Limpiar carrito\n          cartItems.value = [];\n          \n          // Limpiar localStorage\n          localStorage.removeItem(`cart_${restauranteId.value}`);\n          \n          // Limpiar datos del cliente\n          customerInfo.value = {\n            name: '',\n            phone: '',\n            email: '',\n            address: ''\n          };\n          additionalMessage.value = '';\n          isProcessingOrder.value = false;\n        }, 2000);\n      } catch (error) {\n        console.error('Error al completar el pedido:', error);\n        showToast('Error al procesar el pedido', 'error');\n        isProcessingOrder.value = false;\n      }\n    }\n    \n    // Compartir pedido por WhatsApp sin actualizar inventario\nfunction shareOrderByWhatsApp() {\n  // Validaciones básicas\n  if (cartItems.value.length === 0) {\n    showToast('No hay ítems en el pedido', 'error');\n    return;\n  }\n\n  if (!customerInfo.value.name || !customerInfo.value.phone) {\n    showToast('Por favor complete su nombre y teléfono', 'error');\n    return;\n  }\n\n  // Compartir directamente en WhatsApp sin actualizar inventario\n  openWhatsAppShare();\n\n  showToast('Pedido compartido por WhatsApp', 'success');\n}\n\nfunction openWhatsAppShare() {\n  // Construir mensaje de pedido para WhatsApp\n  let whatsappMessage = `🛒 *Pedido de ${customerInfo.value.name}*\\n\\n`;\n  whatsappMessage += `📦 *Productos:*\\n`;\n\n  cartItems.value.forEach(item => {\n    const subtotal = (item.price * item.quantity).toFixed(2);\n    whatsappMessage += `🍽️ ${item.quantity}x ${item.name} = $${formatPrice(subtotal)}\\n`;\n  });\n\n  whatsappMessage += `\\n💵 *Total:* $${formatPrice(cartTotal.value)}\\n`;\n\n  if (customerInfo.value.phone) {\n    whatsappMessage += `📞 *Teléfono:* ${customerInfo.value.phone}\\n`;\n  }\n\n  if (customerInfo.value.email) {\n    whatsappMessage += `✉️ *Email:* ${customerInfo.value.email}\\n`;\n  }\n\n  if (customerInfo.value.address) {\n    whatsappMessage += `📍 *Dirección:* ${customerInfo.value.address}\\n`;\n  }\n\n  if (additionalMessage.value) {\n    whatsappMessage += `📝 *Notas adicionales:*\\n${additionalMessage.value}\\n`;\n  }\n\n  // Añadir método de pago seleccionado\n  const formaPago = selectedPaymentMethod.value === 'qr' ? 'Código QR' :\n                    selectedPaymentMethod.value === 'nequi' ? 'Nequi' :\n                    'Contra entrega';\n\n  whatsappMessage += `\\n💳 *Forma de pago:* ${formaPago}`;\n\n  // Codificar y generar la URL de WhatsApp\n  const encodedMessage = encodeURIComponent(whatsappMessage);\n  const whatsappUrl = `https://api.whatsapp.com/send?text=${encodedMessage}`;\n\n  // Abrir WhatsApp en una nueva ventana\n  window.open(whatsappUrl, '_blank');\n}\n\n    // Desplazarse a la sección del pedido\n    function scrollToOrder() {\n      const orderSection = document.querySelector('.order-section');\n      if (orderSection) {\n        orderSection.scrollIntoView({ behavior: 'smooth' });\n      }\n    }\n\n    // Verificar disponibilidad de inventario\n    async function checkAvailability(item) {\n      // Obtener la disponibilidad base (valor original del inventario)\n      // Importante: asegurarse que sea un número\n      const baseAvailability = Number(item.availableQuantity) || 0;\n      \n      // Verificación directa: si no hay stock, mostrar mensaje de error\n      if (baseAvailability <= 0) {\n        showToast(`Lo sentimos, \"${item.name}\" no está disponible actualmente. Intente más tarde por favor.`, 'error');\n        return false;\n      }\n      \n      // Obtener la cantidad actual en el carrito\n      const cartItem = cartItems.value.find(i => i.id === item.id);\n      const cartQuantity = cartItem ? cartItem.quantity : 0;\n      \n      // Calcular disponibilidad real\n      const realAvailability = baseAvailability - cartQuantity;\n      \n      // Verificar la disponibilidad considerando lo que ya está en el carrito\n      if (realAvailability <= 0) {\n        showToast(`No hay más unidades disponibles de \"${item.name}\"`, 'warning');\n        return false;\n      } else if (realAvailability <= 5) {\n        showToast(`¡Solo quedan ${realAvailability} unidades de \"${item.name}\"!`, 'warning');\n      }\n      \n      return true;\n    }\n\n    // Actualizar inventario al completar pedido\n    async function updateInventory() {\n      try {\n        // Validaciones iniciales\n        if (!cartItems.value || cartItems.value.length === 0) {\n          console.warn('Intentando actualizar inventario con carrito vacío');\n          return;\n        }\n        \n        console.log(`Iniciando actualización de inventario para ${cartItems.value.length} productos...`);\n        \n        // Obtener los elementos actuales del menú para actualizar cantidades\n        const currentMenu = await getMenuItems();\n        if (!currentMenu || !Array.isArray(currentMenu)) {\n          console.error('No se pudo obtener el menú actual');\n          return false;\n        }\n        \n        // Crear una copia profunda del carrito para procesar (evitar modificaciones durante el procesamiento)\n        const itemsToProcess = JSON.parse(JSON.stringify(cartItems.value));\n        const updateResults = [];\n        let hasErrors = false;\n        \n        // Importar función para guardar elementos vendidos\n        const { getSoldItems, saveSoldItems } = await import('../services/storageService');\n        \n        // Obtener la lista actual de elementos vendidos\n        let soldItemsList = [];\n        try {\n          soldItemsList = await getSoldItems() || [];\n          if (!Array.isArray(soldItemsList)) {\n            soldItemsList = [];\n          }\n          console.log('Lista de elementos vendidos obtenida:', soldItemsList.length);\n        } catch (soldItemsError) {\n          console.warn('Error al obtener elementos vendidos:', soldItemsError);\n          soldItemsList = [];\n        }\n        \n        // Procesar cada elemento del carrito de forma secuencial para evitar condiciones de carrera\n        for (let i = 0; i < itemsToProcess.length; i++) {\n          const cartItem = itemsToProcess[i];\n          console.log(`Procesando item ${i+1}/${itemsToProcess.length}: ${cartItem.name} (ID: ${cartItem.id})`);\n          \n          try {\n            // Buscar el ítem correspondiente en el menú actual\n            const menuItem = currentMenu.find(item => item.id === cartItem.id);\n            \n            if (!menuItem) {\n              console.warn(`Elemento no encontrado en el menú: ${cartItem.name} (ID: ${cartItem.id})`);\n              updateResults.push({\n                name: cartItem.name,\n                success: false,\n                error: 'Elemento no encontrado en el menú'\n              });\n              continue;\n            }\n            \n            // Garantizar que estamos trabajando con números enteros válidos\n            const currentQuantity = parseInt(Number(menuItem.availableQuantity || 0), 10);\n            const soldQuantity = parseInt(Number(cartItem.quantity || 0), 10);\n            \n            if (isNaN(currentQuantity) || isNaN(soldQuantity)) {\n              const error = `Cantidades inválidas para ${cartItem.name}: disponible=${menuItem.availableQuantity}, vendido=${cartItem.quantity}`;\n              console.error(error);\n              updateResults.push({\n                name: cartItem.name,\n                success: false,\n                error: error\n              });\n              hasErrors = true;\n              continue;\n            }\n            \n            // Calcular nueva cantidad exacta como entero\n            const newQuantity = Math.max(0, currentQuantity - soldQuantity);\n            \n            console.log(`Actualizando ${cartItem.name}: ${currentQuantity} - ${soldQuantity} = ${newQuantity} (currentQuantity tipo: ${typeof currentQuantity}, soldQuantity tipo: ${typeof soldQuantity})`);\n            \n            // Actualizar disponibilidad usando la función mejorada - forzar como número entero\n            const updateSuccess = await updateItemAvailability(menuItem.id, newQuantity);\n            \n            // Registrar resultado detallado\n            updateResults.push({\n              name: cartItem.name,\n              oldQuantity: currentQuantity,\n              soldQuantity: soldQuantity,\n              newQuantity: newQuantity,\n              success: updateSuccess,\n              error: updateSuccess ? null : 'Error al actualizar disponibilidad'\n            });\n            \n            if (!updateSuccess) {\n              hasErrors = true;\n            } else {\n              // Registrar en la lista de platos vendidos si la actualización fue exitosa\n              const currentDate = new Date().toISOString();\n              const existingSoldItem = soldItemsList.find(item => item.name === cartItem.name);\n              \n              if (existingSoldItem) {\n                existingSoldItem.quantity += soldQuantity;\n                existingSoldItem.date = currentDate;\n              } else {\n                soldItemsList.push({\n                  name: cartItem.name,\n                  quantity: soldQuantity,\n                  price: cartItem.price,\n                  includesDrink: menuItem.includesDrink || false,\n                  date: currentDate\n                });\n              }\n              console.log(`Elemento registrado en lista de vendidos: ${cartItem.name} x${soldQuantity}`);\n            }\n          } catch (itemError) {\n            console.error(`Error procesando ${cartItem.name}:`, itemError);\n            updateResults.push({\n              name: cartItem.name,\n              success: false,\n              error: itemError.message || 'Error desconocido'\n            });\n            hasErrors = true;\n          }\n        }\n        \n        // Guardar la lista actualizada de elementos vendidos\n        try {\n          await saveSoldItems(soldItemsList);\n          console.log(`Lista de elementos vendidos actualizada con ${soldItemsList.length} elementos`);\n        } catch (saveError) {\n          console.error('Error al guardar elementos vendidos:', saveError);\n        }\n        \n        // Mostrar resumen de la operación\n        const successCount = updateResults.filter(r => r.success).length;\n        console.log(`Actualización de inventario completada. Éxitos: ${successCount}/${itemsToProcess.length}`);\n        \n        // Registrar detalles completos de la actualización\n        console.log('Detalles de actualización de inventario:', updateResults);\n        \n        if (hasErrors) {\n          const failedItems = updateResults.filter(r => !r.success).map(r => r.name).join(', ');\n          console.warn(`Algunos productos no se pudieron actualizar: ${failedItems}`);\n        }\n        \n        return successCount > 0;\n      } catch (error) {\n        console.error('Error general al actualizar inventario:', error);\n        return false;\n      }\n    }\n\n    // Añadir después de la función checkAvailability (línea 585)\n    // Función para actualizar la disponibilidad en tiempo real\n    function updateAvailabilityInMenu() {\n      if (!menuData.value?.items) return;\n      \n      // Actualizar la disponibilidad de todos los ítems\n      menuData.value.items.forEach(menuItem => {\n        // Encontrar si este ítem está en el carrito\n        const cartItem = cartItems.value.find(i => i.id === menuItem.id);\n        const cartQuantity = cartItem ? cartItem.quantity : 0;\n        \n        // Asegurarse de que availableQuantity sea un número exacto, no undefined o null\n        const baseAvailability = Number(menuItem.availableQuantity) || 0;\n        \n        // Calcular disponibilidad real\n        menuItem.realAvailability = baseAvailability - cartQuantity;\n        \n        console.log(`Disponibilidad actualizada para ${menuItem.name}: ${menuItem.realAvailability} unidades (base: ${baseAvailability}, carrito: ${cartQuantity})`);\n      });\n    }\n\n    // Verificar si una cadena de imagen es válida\n    function isValidImage(imageString) {\n      if (!imageString) return false;\n      \n      // Verificar si es una URL\n      if (imageString.startsWith('http://') || imageString.startsWith('https://')) {\n        return true;\n      }\n      \n      // Verificar si es una imagen en base64\n      if (imageString.startsWith('data:image/')) {\n        return true;\n      }\n      \n      return false;\n    }\n    \n    // Corregir formato de imagen si es necesario\n    function fixImageFormat(imageString) {\n      if (!imageString) return '';\n      \n      // Si ya es una URL o base64 válido, devolverlo tal cual\n      if (isValidImage(imageString)) {\n        return imageString;\n      }\n      \n      // Intentar convertir a base64 si no tiene el prefijo correcto\n      if (imageString.includes('/9j/') && !imageString.startsWith('data:image/')) {\n        return `data:image/jpeg;base64,${imageString}`;\n      }\n      \n      // Si no se puede arreglar, devolver una imagen por defecto\n      return '';\n    }\n\n    // Estado para el formulario de reserva\n    const showReservationForm = ref(false);\n    const isProcessingReservation = ref(false);\n    const reservationSuccess = ref(false);\n    const reservationError = ref(null);\n    \n    const reservationData = ref({\n      fullName: '',\n      mobilePhone: '',\n      landlinePhone: '',\n      address: '',\n      email: '',\n      orderDate: getCurrentDate(), // Set the initial value here\n      reservationDate: '',\n      reservationTime: '',\n      peopleCount: 1,\n      additionalNotes: ''\n    });\n    \n    // Función para obtener la fecha actual en formato YYYY-MM-DD\n    function getCurrentDate() {\n      const today = new Date();\n      const year = today.getFullYear();\n      const month = String(today.getMonth() + 1).padStart(2, '0');\n      const day = String(today.getDate()).padStart(2, '0');\n      return `${year}-${month}-${day}`;\n    }\n    \n    // Función para enviar la reserva\n    async function submitReservation() {\n      isProcessingReservation.value = true;\n      reservationSuccess.value = false;\n      reservationError.value = null;\n      \n      try {\n        // Utilizamos el servicio de reservas para guardar los datos\n        const result = await saveReservation(reservationData.value);\n        \n        if (result.success) {\n          // Reserva guardada correctamente\n          reservationSuccess.value = true;\n          showToast('¡Reserva enviada con éxito! Recibirá un correo de confirmación en breve.', 'success');\n          \n          // Enviar correo de confirmación (simulado)\n          console.log('Enviando correo de confirmación a:', reservationData.value.email);\n          \n          // Limpiar el formulario y ocultarlo después de un tiempo\n          setTimeout(() => {\n            resetReservationForm();\n            showReservationForm.value = false;\n          }, 3000);\n        } else {\n          // Error al guardar la reserva\n          throw new Error(result.error || 'Error al procesar la reserva');\n        }\n      } catch (error) {\n        console.error('Error al enviar la reserva:', error);\n        reservationError.value = 'Ocurrió un error al procesar su reserva. Por favor, intente nuevamente.';\n        showToast('Error al procesar la reserva. Por favor, intente nuevamente.', 'error');\n      } finally {\n        isProcessingReservation.value = false;\n      }\n    }\n    \n    // Función para cancelar la reserva\n    function cancelReservation() {\n      resetReservationForm();\n      showReservationForm.value = false;\n    }\n    \n    // Función para reiniciar el formulario\n    function resetReservationForm() {\n      reservationData.value.fullName = '';\n      reservationData.value.mobilePhone = '';\n      reservationData.value.landlinePhone = '';\n      reservationData.value.address = '';\n      reservationData.value.email = '';\n      reservationData.value.orderDate = getCurrentDate();\n      reservationData.value.reservationDate = '';\n      reservationData.value.reservationTime = '';\n      reservationData.value.peopleCount = 1;\n      reservationData.value.additionalNotes = '';\n      reservationSuccess.value = false;\n      reservationError.value = null;\n    }\n\n    // Refrescar información del negocio manualmente\n    async function refreshBusinessInfo() {\n      try {\n        const businessInfo = await fetchBusinessInfoFromBackend(true);\n        if (businessInfo) {\n          menuData.value.businessInfo = businessInfo;\n          lastBusinessInfoUpdate.value = Date.now();\n          showToast('Información del negocio actualizada', 'success');\n        }\n      } catch (error) {\n        console.error('Error al refrescar información del negocio:', error);\n        showToast('Error al actualizar información del negocio', 'error');\n      }\n    }\n\n    // Estado para el toast\n    const toast = ref({\n      visible: false,\n      message: '',\n      type: 'success', // 'success', 'warning', 'error'\n      timeoutId: null\n    });\n\n    // Estado para la última actualización de la información del negocio\n    const lastBusinessInfoUpdate = ref(null);\n\n    onMounted(() => {\n      loadMenu();\n    });\n\n    return {\n      restauranteId,\n      isLoading,\n      error,\n      menuData,\n      regularItems,\n      specialItems,\n      cartItems,\n      cartTotal,\n      totalItems,\n      customerInfo,\n      selectedPaymentMethod,\n      additionalMessage,\n      addToCart,\n      removeFromCart,\n      increaseQuantity,\n      decreaseQuantity,\n      formatPrice,\n      completeOrder,\n      shareOrderByWhatsApp,\n      scrollToOrder,\n      isValidImage,\n      fixImageFormat,\n      hasPaymentInfo,\n      // Reservas\n      showReservationForm,\n      reservationData,\n      isProcessingReservation,\n      reservationSuccess,\n      reservationError,\n      submitReservation,\n      cancelReservation,\n      getCurrentDate,\n      // Añadir el objeto toast para que esté disponible en la plantilla\n      toast,\n      // Función para refrescar información del negocio\n      refreshBusinessInfo,\n      // Última actualización de la información del negocio\n      lastBusinessInfoUpdate\n    };\n  }\n};\n</script>\n\n<style scoped>\n.shared-menu-container {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 20px;\n  font-family: 'Arial', sans-serif;\n}\n\n.loading, .error {\n  text-align: center;\n  padding: 50px;\n  font-size: 18px;\n}\n\n.error {\n  color: #d9534f;\n}\n\n.business-info {\n  text-align: center;\n  margin-bottom: 40px;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.business-logo {\n  max-width: 100%;\n  max-height: 150px;\n  object-fit: contain;\n  margin-bottom: 15px;\n}\n\n.business-info h1 {\n  color: #343a40;\n  margin-bottom: 10px;\n}\n\n.description {\n  font-style: italic;\n  color: #6c757d;\n  margin-bottom: 15px;\n}\n\n.contact-info {\n  font-size: 14px;\n  color: #495057;\n}\n\n.menu-list {\n  margin-bottom: 40px;\n}\n\n.menu-list h2 {\n  color: #28a745;\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 2px solid #28a745;\n}\n\n.menu-items {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));\n  gap: 20px;\n}\n\n.menu-item {\n  background-color: white;\n  border-radius: 8px;\n  overflow: hidden;\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n}\n\n.menu-item:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 5px 15px rgba(0,0,0,0.2);\n}\n\n.item-image-container {\n  width: 100%;\n  height: 200px;\n  overflow: hidden;\n}\n\n.item-image {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n}\n\n.no-image {\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: #f8f9fa;\n  color: #6c757d;\n  font-style: italic;\n}\n\n.item-details {\n  padding: 15px;\n}\n\n.item-details h3 {\n  margin-top: 0;\n  color: #343a40;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.item-description {\n  color: #6c757d;\n  font-size: 14px;\n  margin-bottom: 10px;\n}\n\n.item-price {\n  font-size: 16px;\n  font-weight: bold;\n  color: #28a745;\n  margin-bottom: 10px;\n}\n\n.includes-drink {\n  font-size: 14px;\n  color: #6c757d;\n  font-style: italic;\n  margin-bottom: 10px;\n}\n\n.add-to-cart-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  padding: 10px 15px;\n  background-color: #28a745;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  transition: all 0.3s;\n  font-weight: bold;\n}\n\n.add-to-cart-btn:hover {\n  background-color: #218838;\n  transform: translateY(-2px);\n}\n\n.quantity-display {\n  min-width: 30px;\n  text-align: center;\n  font-weight: bold;\n}\n\n/* Estilos para acciones de pedido */\n.order-actions {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-top: 15px;\n  gap: 10px;\n}\n\n.complete-order-btn,\n.whatsapp-order-btn {\n  border: none;\n  padding: 12px 20px;\n  border-radius: 4px;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  gap: 8px;\n  height: 48px;\n  font-size: 17px;\n  width: 100%;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 0.5px;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\n}\n\n.complete-order-btn {\n  background-color: #218838;\n  color: white;\n  margin: 0;\n  border: 2px solid #1e7e34;\n}\n\n.complete-order-btn:hover {\n  background-color: #1e7e34;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n}\n\n.whatsapp-order-btn {\n  height: 48px;\n  font-size: 17px;\n  width: 100%;\n  box-shadow: 0 2px 4px rgba(0,0,0,0.2);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  letter-spacing: 0.5px;\n  text-shadow: 0 1px 2px rgba(0,0,0,0.3);\n}\n\n.complete-order-btn {\n  background-color: #218838;\n  color: white;\n  margin: 0;\n  border: 2px solid #1e7e34;\n}\n\n.complete-order-btn:hover {\n  background-color: #1e7e34;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n}\n\n.whatsapp-order-btn {\n  background-color: #128C7E;\n  color: white;\n  margin: 0;\n  border: 2px solid #075E54;\n}\n\n.whatsapp-order-btn:hover {\n  background-color: #075E54;\n  transform: translateY(-2px);\n  box-shadow: 0 4px 8px rgba(0,0,0,0.2);\n}\n\n.btn-icon {\n  font-size: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8px;\n}\n\n/* Estilos para la sección de \"Tu Pedido\" */\n.order-section {\n  margin: 30px auto;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n  max-width: 800px;\n  border: 2px solid #28a745;\n  position: relative;\n}\n\n.order-section::before {\n  content: '';\n  position: absolute;\n  top: -10px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 0;\n  height: 0;\n  border-left: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #28a745;\n}\n\n.order-section h2 {\n  color: #343a40;\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 2px solid #28a745;\n}\n\n.cart-items {\n  margin-bottom: 20px;\n}\n\n.cart-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 15px;\n  border-bottom: 1px solid #dee2e6;\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from { opacity: 0; transform: translateY(-10px); }\n  to { opacity: 1; transform: translateY(0); }\n}\n\n.cart-item:last-child {\n  border-bottom: none;\n}\n\n.cart-item-details h3 {\n  margin: 0 0 5px 0;\n  font-size: 16px;\n}\n\n.cart-item-actions {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.quantity-btn {\n  width: 30px;\n  height: 30px;\n  border-radius: 50%;\n  background-color: #f8f9fa;\n  border: 1px solid #28a745;\n  color: #28a745;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.quantity-btn:hover {\n  background-color: #28a745;\n  color: white;\n}\n\n.remove-btn {\n  padding: 5px 10px;\n  background-color: #dc3545;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.remove-btn:hover {\n  background-color: #c82333;\n}\n\n.cart-total {\n  text-align: right;\n  padding-top: 15px;\n  border-top: 2px solid #28a745;\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 10px;\n}\n\n.cart-total h3 {\n  color: #343a40;\n  margin: 0;\n}\n\n/* Estilos para el formulario de datos del cliente */\n.customer-form {\n  width: 100%;\n  margin-top: 20px;\n  padding: 15px;\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  border: 1px solid #dee2e6;\n}\n\n.customer-form h4 {\n  color: #343a40;\n  margin-top: 0;\n  margin-bottom: 15px;\n  text-align: center;\n  font-size: 16px;\n  border-bottom: 1px solid #e9ecef;\n  padding-bottom: 8px;\n}\n\n.form-row {\n  margin-bottom: 12px;\n}\n\n.form-input, .form-textarea {\n  width: 100%;\n  padding: 10px;\n  border: 1px solid #ced4da;\n  border-radius: 4px;\n  font-size: 14px;\n  transition: border-color 0.3s;\n}\n\n.form-input:focus, .form-textarea:focus {\n  border-color: #28a745;\n  outline: none;\n}\n\n.form-textarea {\n  min-height: 80px;\n  resize: vertical;\n}\n\n/* Estilos para las opciones de pago */\n.payment-methods-selection {\n  width: 100%;\n  margin: 15px 0;\n}\n\n.payment-methods-selection h4 {\n  color: #343a40;\n  margin-top: 10px;\n  margin-bottom: 15px;\n  text-align: center;\n  font-size: 16px;\n  border-bottom: 1px solid #e9ecef;\n  padding-bottom: 8px;\n}\n\n.payment-options {\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  gap: 10px;\n}\n\n.payment-option {\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 8px 15px;\n  background-color: #f0f0f0;\n  border-radius: 4px;\n  transition: all 0.2s;\n  flex: 1;\n  min-width: 100px;\n  justify-content: center;\n  border: 2px solid transparent;\n}\n\n.payment-option:hover {\n  background-color: #e9ecef;\n  transform: translateY(-2px);\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n}\n\n.payment-option input[type=\"radio\"] {\n  margin-right: 8px;\n  accent-color: #28a745;\n}\n\n.payment-option input[type=\"radio\"]:checked + .payment-option-text {\n  font-weight: bold;\n  color: #28a745;\n}\n\n.payment-option-text {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n/* Estilo para opción seleccionada */\n.payment-option input[type=\"radio\"]:checked ~ .payment-option {\n  border-color: #28a745;\n  background-color: rgba(40, 167, 69, 0.1);\n}\n\n/* Botón flotante para ver pedido */\n.floating-cart-button {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  background-color: #28a745;\n  color: white;\n  border-radius: 50px;\n  padding: 10px 20px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.2);\n  cursor: pointer;\n  transition: all 0.3s;\n  z-index: 98; /* Mantener por debajo del toast (9999) */\n  font-weight: bold;\n}\n\n/* Sistema de notificaciones toast */\n.toast-notification {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  padding: 15px 25px;\n  border-radius: 4px;\n  color: white;\n  z-index: 1000;\n  box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n  animation: slideIn 0.3s ease-out forwards;\n}\n\n@keyframes slideIn {\n  from {\n    transform: translateY(100%);\n    opacity: 0;\n  }\n  to {\n    transform: translateY(0);\n    opacity: 1;\n  }\n}\n\n.toast-notification.success {\n  background-color: #28a745;\n}\n\n.toast-notification.error {\n  background-color: #dc3545;\n}\n\n.toast-notification.info {\n  background-color: #17a2b8;\n}\n\n.toast-notification.warning {\n  background-color: #ffc107;\n  color: #212529;\n}\n\n/* Estilos para la sección de formas de pago */\n.payment-section {\n  margin: 30px 0;\n  padding: 20px;\n  background-color: #f8f9fa;\n  border-radius: 8px;\n  box-shadow: 0 2px 8px rgba(0,0,0,0.1);\n}\n\n.payment-section h2 {\n  color: #343a40;\n  font-size: 24px;\n  text-align: center;\n  margin-bottom: 20px;\n  padding-bottom: 10px;\n  border-bottom: 2px solid #28a745;\n}\n\n.payment-methods {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n  justify-content: center;\n}\n\n.payment-method {\n  flex: 1;\n  min-width: 200px;\n  max-width: 300px;\n  padding: 15px;\n  background-color: white;\n  border-radius: 8px;\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n  text-align: center;\n}\n\n.payment-method h3 {\n  margin-top: 0;\n  color: #343a40;\n  font-size: 18px;\n  margin-bottom: 10px;\n}\n\n.payment-image {\n  max-width: 100%;\n  max-height: 200px;\n  object-fit: contain;\n  margin: 0 auto;\n  display: block;\n}\n\n/* Específicamente reducir el tamaño de la imagen de Nequi */\n.payment-method img[alt=\"Nequi\"] {\n  max-height: 150px;\n  width: auto;\n}\n\n.payment-detail {\n  margin-top: 10px;\n  font-size: 14px;\n  color: #6c757d;\n}\n</style>\n","import { render } from \"./SharedMenuView.vue?vue&type=template&id=2ce18f45&scoped=true\"\nimport script from \"./SharedMenuView.vue?vue&type=script&lang=js\"\nexport * from \"./SharedMenuView.vue?vue&type=script&lang=js\"\n\nimport \"./SharedMenuView.vue?vue&type=style&index=0&id=2ce18f45&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2ce18f45\"]])\n\nexport default __exports__","'use strict';\nvar $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar getIteratorDirect = require('../internals/get-iterator-direct');\n\nvar $TypeError = TypeError;\n\n// `Iterator.prototype.reduce` method\n// https://tc39.es/ecma262/#sec-iterator.prototype.reduce\n$({ target: 'Iterator', proto: true, real: true }, {\n  reduce: function reduce(reducer /* , initialValue */) {\n    anObject(this);\n    aCallable(reducer);\n    var record = getIteratorDirect(this);\n    var noInitial = arguments.length < 2;\n    var accumulator = noInitial ? undefined : arguments[1];\n    var counter = 0;\n    iterate(record, function (value) {\n      if (noInitial) {\n        noInitial = false;\n        accumulator = value;\n      } else {\n        accumulator = reducer(accumulator, value, counter);\n      }\n      counter++;\n    }, { IS_RECORD: true });\n    if (noInitial) throw new $TypeError('Reduce of empty iterator with no initial value');\n    return accumulator;\n  }\n});\n"],"names":["key","class","src","alt","ref","_createElementBlock","id","$setup","restauranteId","isLoading","_hoisted_2","_cache","_createElementVNode","error","_hoisted_3","_toDisplayString","_hoisted_4","menuData","businessInfo","_hoisted_5","logo","isValidImage","fixImageFormat","_hoisted_6","_createCommentVNode","name","_hoisted_7","description","contact","address","_hoisted_8","_hoisted_9","_createTextVNode","_hoisted_10","_hoisted_11","_hoisted_12","_Fragment","_renderList","regularItems","item","index","_hoisted_13","image","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","formatPrice","price","includesDrink","_hoisted_19","onClick","$event","addToCart","_normalizeClass","realAvailability","disabled","_hoisted_21","_hoisted_22","_hoisted_20","specialItems","length","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_33","_hoisted_34","_hoisted_32","_hoisted_35","cartItems","_hoisted_36","_hoisted_37","_hoisted_38","quantity","_hoisted_39","decreaseQuantity","_hoisted_40","_hoisted_41","increaseQuantity","_hoisted_42","removeFromCart","_hoisted_43","_hoisted_44","cartTotal","_hoisted_45","_hoisted_46","type","customerInfo","placeholder","_hoisted_47","phone","_hoisted_48","email","_hoisted_49","_hoisted_50","_hoisted_51","_hoisted_52","selectedPaymentMethod","value","_hoisted_53","_hoisted_54","_hoisted_55","additionalMessage","_hoisted_56","args","completeOrder","scrollToOrder","_hoisted_57","totalItems","hasPaymentInfo","_hoisted_58","_hoisted_59","paymentInfo","qrImage","_hoisted_60","qrTitle","_hoisted_61","nequiNumber","nequiImage","_hoisted_62","_hoisted_63","_hoisted_64","bankInfo","_hoisted_65","_hoisted_66","otherPaymentMethods","_hoisted_67","_hoisted_68","toast","visible","message","_hoisted_1","setup","route","useRoute","computed","params","items","filter","isSpecial","reduce","total","loadMenu","async","apiConfig","API_URL","default","console","log","prodUrl","response","fetch","ok","data","json","success","menu","prodError","apiUrl","status","statusText","fallbackResponse","Error","fallbackData","apiError","restaurante","nombre","descripcion","direccion","telefono","horarios","category","available","err","isNaN","Number","numero","toFixed","parteEntera","parteDecimal","split","parteEnteraFormateada","replace","availableQuantity","showToast","isAvailable","checkAvailability","existingItem","find","i","push","Date","now","toString","saveCartToLocalStorage","updateAvailabilityInMenu","duration","timeoutId","clearTimeout","setTimeout","localStorage","setItem","JSON","stringify","e","menuItem","splice","isProcessingOrder","updateInventory","openWhatsAppShare","removeItem","shareOrderByWhatsApp","whatsappMessage","forEach","subtotal","formaPago","encodedMessage","encodeURIComponent","whatsappUrl","window","open","orderSection","document","querySelector","scrollIntoView","behavior","baseAvailability","cartItem","cartQuantity","warn","currentMenu","getMenuItems","Array","isArray","itemsToProcess","parse","updateResults","hasErrors","getSoldItems","saveSoldItems","soldItemsList","soldItemsError","currentQuantity","parseInt","soldQuantity","newQuantity","Math","max","updateSuccess","updateItemAvailability","oldQuantity","currentDate","toISOString","existingSoldItem","date","itemError","saveError","successCount","r","failedItems","map","join","imageString","startsWith","includes","showReservationForm","isProcessingReservation","reservationSuccess","reservationError","reservationData","fullName","mobilePhone","landlinePhone","orderDate","getCurrentDate","reservationDate","reservationTime","peopleCount","additionalNotes","today","year","getFullYear","month","String","getMonth","padStart","day","getDate","submitReservation","result","saveReservation","resetReservationForm","cancelReservation","refreshBusinessInfo","fetchBusinessInfoFromBackend","lastBusinessInfoUpdate","onMounted","__exports__","render","$","iterate","aCallable","anObject","getIteratorDirect","$TypeError","TypeError","target","proto","real","reducer","this","record","noInitial","arguments","accumulator","undefined","counter","IS_RECORD"],"sourceRoot":""}